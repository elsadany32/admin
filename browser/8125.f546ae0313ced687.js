"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8125],{8125:(O,N,r)=>{r.r(N),r.d(N,{default:()=>tt});var t=r(5879),m=r(6814),d=r(2296),U=r(3680),b=r(617),I=r(1476),w=r(5313),Z=r(2596),v=r(5742),P=r(4553),s=r(53),i=r(2948),l=r(7457),u=r(1993),h=r(836),g=r(9397),_=r(2572),o=r(3997),f=r(4664),a=r(6306),T=r(7700);const A=["dialogTemplate"];function D(e,c){1&e&&(t.TgZ(0,"th",26),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","S.No"," "))}function E(e,c){if(1&e&&(t.TgZ(0,"td",27)(1,"span",28),t._uU(2),t.qZA()()),2&e){const n=c.index,p=t.oxw(3);t.xp6(2),t.hij(" ",n+1+p.pageIndex*p.pageSize," ")}}function $(e,c){1&e&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Email / phone"," "))}function L(e,c){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.TgZ(2,"span",31),t._uU(3),t.qZA()()),2&e){const n=c.$implicit;t.xp6(1),t.hij(" ",null==n||null==n.user[0]?null:n.user[0].email," "),t.xp6(2),t.Oqu(null==n||null==n.user[0]?null:n.user[0].phone)}}function W(e,c){1&e&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","wishlist category name"," "))}function S(e,c){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.wishlist_name," ")}}function Q(e,c){1&e&&(t.TgZ(0,"th",29),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","NO Of Items"," "))}function z(e,c){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.items.length," ")}}function R(e,c){1&e&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Action"," "))}function B(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"td",33)(1,"button",34),t.NdJ("click",function(){const C=t.CHM(n).$implicit,y=t.oxw(3);return t.KtG(y.viewItem(C.items))}),t._UZ(2,"mat-icon",35),t.qZA()()}2&e&&(t.xp6(1),t.Q6J("matTooltip","Show Category items")("matTooltipPosition","before"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:eye"))}function j(e,c){1&e&&t._UZ(0,"tr",36)}function M(e,c){1&e&&t._UZ(0,"tr",37)}function Y(e,c){if(1&e&&(t.TgZ(0,"table",12),t.ynx(1,13),t.YNc(2,D,2,1,"th",14),t.YNc(3,E,3,1,"td",15),t.BQk(),t.ynx(4,16),t.YNc(5,$,2,1,"th",17),t.YNc(6,L,4,2,"td",18),t.BQk(),t.ynx(7,19),t.YNc(8,W,2,1,"th",17),t.YNc(9,S,2,1,"td",18),t.BQk(),t.ynx(10,20),t.YNc(11,Q,2,1,"th",17),t.YNc(12,z,2,1,"td",18),t.BQk(),t.ynx(13,21),t.YNc(14,R,2,1,"th",22),t.YNc(15,B,3,3,"td",23),t.BQk(),t.YNc(16,j,1,0,"tr",24),t.YNc(17,M,1,0,"tr",25),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("dataSource",n.users),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function J(e,c){if(1&e&&(t.ynx(0),t.YNc(1,Y,18,3,"table",11),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isLoading)}}function k(e,c){if(1&e&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",38),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("skeltonType",n.skletonTable)}}function H(e,c){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",39),t.BQk()),2&e&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}function X(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"div",57)(2,"span"),t._uU(3,"createdAt : "),t.qZA(),t._UZ(4,"mat-icon",58),t.TgZ(5,"div",59),t._uU(6),t.ALo(7,"date"),t.qZA()(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(4),t.Q6J("svgIcon","heroicons_solid:clock"),t.xp6(2),t.hij(" ",t.xi3(7,2,n.createdAt,"short")," ")}}function F(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"div",48)(2,"div",49)(3,"div",50)(4,"span"),t._uU(5,"Name : "),t.qZA(),t._uU(6),t.qZA(),t._UZ(7,"div",51),t.TgZ(8,"div",52)(9,"span"),t._uU(10,"label : "),t.qZA(),t._uU(11),t.qZA(),t._UZ(12,"div",51),t.TgZ(13,"div",53)(14,"span"),t._uU(15,"Url : "),t.qZA(),t.TgZ(16,"a",54),t._uU(17),t.qZA()(),t._UZ(18,"div",51),t.TgZ(19,"div",55),t.YNc(20,X,8,5,"ng-container",8),t.qZA()(),t._UZ(21,"div",56),t.qZA(),t.BQk()),2&e){const n=c.$implicit;t.xp6(6),t.hij(" ",null==n?null:n.product_name," "),t.xp6(5),t.hij(" ",null==n?null:n.label," "),t.xp6(5),t.Q6J("href",null==n?null:n.product_url,t.LSH),t.xp6(1),t.Oqu(null==n?null:n.product_url),t.xp6(3),t.Q6J("ngIf",n.createdAt)}}function q(e,c){if(1&e&&(t.ynx(0),t.YNc(1,F,22,5,"ng-container",47),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.items)}}function K(e,c){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",60),t.BQk()),2&e&&(t.xp6(1),t.Q6J("stateImg","empty 1")("stateTitle","Wishlist Category Is Empty"))}function G(e,c){if(1&e&&(t.TgZ(0,"div",40)(1,"div")(2,"h2",41),t._uU(3),t.qZA()(),t.TgZ(4,"button",42),t._UZ(5,"mat-icon",43),t.qZA()(),t.TgZ(6,"div",44),t.YNc(7,q,2,1,"ng-container",8),t.YNc(8,K,2,2,"ng-container",8),t.qZA(),t.TgZ(9,"div",45)(10,"button",46),t._uU(11," Cancel "),t.qZA()()),2&e){const n=c.$implicit;t.xp6(3),t.hij(" ","Items For Category Wishlist "," "),t.xp6(4),t.Q6J("ngIf",n.items.length),t.xp6(1),t.Q6J("ngIf",0===(null==n.items?null:n.items.length))}}const V=function(e,c){return{"pointer-events-none":e,hidden:c}},tt=[{path:"",component:(()=>{class e{constructor(){this.pageIndex=0,this.pageSize=10,this.total_recoreds=0,this.skletonTable=i.q.TABLE,this.destroyRef=(0,t.f3M)(t.ktI),this._UsersService=(0,t.f3M)(l.f),this.matDialogRef=(0,t.f3M)(T.uw),this.users=[],this.isLoading=!0,this.pageSizeOptions=[10,20,50,100],this.displayedColumns=["S_No","email","wishlist_name","items","action"]}ngOnInit(){this._UsersService.updatePagination$({pageIndex:0,pageSize:10,length:0}),this._UsersService.all_wishlist$.pipe((0,u.sL)(this.destroyRef),(0,h.T)(1),(0,g.b)(p=>{console.log("loading data !",p),this.users=p,this.isLoading=!1})).subscribe(),(0,_.a)([this._UsersService.pagination$.pipe((0,g.b)(p=>{this.pageIndex=p.pageIndex,this.pageSize=p.pageSize}),(0,o.x)((p,x)=>p.pageIndex===x.pageIndex&&p.pageSize===x.pageSize))]).pipe((0,u.sL)(this.destroyRef),(0,f.w)(([p])=>(this.isLoading=!0,this._UsersService.get_all_wishlist(p?.pageIndex,p?.pageSize))),(0,a.K)(p=>(this.isLoading=!1,p))).subscribe(),this._UsersService.pagination$.pipe((0,u.sL)(this.destroyRef),(0,g.b)(p=>{this._paginator.length=p.length,this.total_recoreds=p.length,this._paginator.pageIndex=p.pageIndex,this._paginator.pageSize=p.pageSize})).subscribe()}pageChange(n){this._UsersService.updatePagination$(n)}viewItem(n){console.log("items",n),this.matDialogRef.open(this.dialogTemplate,{data:{items:n}})}static#t=this.\u0275fac=function(p){return new(p||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-all-wishlist-users"]],viewQuery:function(p,x){if(1&p&&(t.Gf(I.NW,7),t.Gf(A,7)),2&p){let C;t.iGM(C=t.CRH())&&(x._paginator=C.first),t.iGM(C=t.CRH())&&(x.dialogTemplate=C.first)}},standalone:!0,features:[t.jDz],decls:16,vars:10,consts:[[1,"relative","inset-0","min-w-0","0","w-full"],[1,"flex-auto","pt-9","pb-10","md:px-4","lg:px-6","min-w-max"],[1,"h-full","max-h-max","min-w-max"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","w-full","min-w-max"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","flex-row","justify-between","items-start"],[1,"text-2xl","font-semibold","w1/2"],[1,"flex","flex-col","flex-auto","min-w-max"],[1,"flex","flex-col","w-full","h-full","max-h-max","min-w-max","border"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],["dialogTemplate",""],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","","class","w-12 px-1",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","class","whitespace-nowrap px-2",4,"matHeaderCellDef"],["mat-cell","","class","whitespace-nowrap px-2",4,"matCellDef"],["matColumnDef","wishlist_name"],["matColumnDef","items"],["matColumnDef","action"],["mat-header-cell","","class","whitespace-nowrap px-3",4,"matHeaderCellDef"],["mat-cell","","class","whitespace-nowrap px-3",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"w-12","px-1"],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],["mat-header-cell","",1,"whitespace-nowrap","px-2"],["mat-cell","",1,"whitespace-nowrap","px-2"],[1,"block"],["mat-header-cell","",1,"whitespace-nowrap","px-3"],["mat-cell","",1,"whitespace-nowrap","px-3"],["mat-icon-button","",3,"matTooltip","matTooltipPosition","click"],[1,"text-green-400","icon-size-5",3,"svgIcon"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"],[1,"flex","items-center","justify-between"],[1,"text-xl","md:text-xl","font-bold","tracking-tight","leading-7","sm:leading-10","truncate"],["mat-dialog-close","","mat-icon-button",""],["svgIcon","heroicons_outline:x-circle",1,"text-primary"],[1,"flex","flex-col","mt-2","max-h-120","overflow-y-scroll","overflow-x-hidden","w-full","max-w-full"],[1,"w-full","flex","justify-end","px-4","mt-4","border-t"],["mat-button","","matDialogClose","",1,"mt-2","bg-gray-900","text-white"],[4,"ngFor","ngForOf"],[1,"flex","flex-row","items-center","p-4","bg-gray-100","dark:bg-hover","rounded-2xl","mb-2"],[1,"flex","flex-col","gap-y-2","text-gray-950","dark:text-white","text-lg"],[1,"font-medium","text-gray-950","dark:text-white"],[1,"border-t"],[1,"font-medium"],[1,"font-medium","truncate"],["target","_blank",1,"truncate",3,"href"],[1,"flex","flex-col","gap-x-4","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"flex-auto"],[1,"flex","items-center"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5","text-md","text-secondary"],[3,"stateImg","stateTitle"]],template:function(p,x){1&p&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),t._uU(6),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7),t.YNc(9,J,2,1,"ng-container",8),t.YNc(10,k,2,1,"ng-container",8),t.ynx(11),t.TgZ(12,"mat-paginator",9),t.NdJ("page",function(y){return x.pageChange(y)}),t.qZA(),t.BQk(),t.YNc(13,H,2,2,"ng-container",8),t.qZA()()()()()(),t.YNc(14,G,12,3,"ng-template",null,10,t.W1O)),2&p&&(t.xp6(6),t.hij(" Total Records : ",x.total_recoreds," "),t.xp6(3),t.Q6J("ngIf",x.users.length),t.xp6(1),t.Q6J("ngIf",x.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(7,V,x.isLoading,!x.users.length))("pageSizeOptions",x.pageSizeOptions)("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!x.users.length&&!x.isLoading))},dependencies:[m.O5,m.ax,m.uU,m.mk,I.TU,I.NW,w.p0,w.BZ,w.fO,w.as,w.w1,w.Dz,w.nj,w.ge,w.ev,w.XQ,w.Gk,b.Ps,b.Hw,d.ot,d.lW,d.RK,P.W,U.si,s.vi,v.s,Z.AV,Z.gM,T.Is,T.ZT],styles:["app-all-wishlist-users[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column;--tw-text-opacity: 1;color:rgba(var(--fuse-primary-rgb),var(--tw-text-opacity))}"]})}return e})()}]},7457:(O,N,r)=>{r.d(N,{f:()=>Z});var t=r(9862),m=r(3074),d=r(553),U=r(5619),b=r(7398),I=r(5592),w=r(5879);let Z=(()=>{class v{get users$(){return this._users.asObservable()}get gest_users$(){return this._guest_users.asObservable()}get all_newsLetters$(){return this._all_newsLetters.asObservable()}get user$(){return this._user.asObservable()}get _users_batch_refill_requests$(){return this._users_batch_refill_requests.asObservable()}get user_document$(){return this._users_document.asObservable()}get all_wishlist$(){return this._all_wishlist.asObservable()}get all_users_wallet$(){return this._all_users_wallet.asObservable()}constructor(s){this._httpClient=s,this._users=new U.X(null),this._guest_users=new U.X(null),this._all_newsLetters=new U.X(null),this._users_batch_refill_requests=new U.X(null),this._user=new U.X(null),this._users_document=new U.X(null),this._all_users_wallet=new U.X(null),this._all_wishlist=new U.X(null),this._pagination=new U.X({pageIndex:0,pageSize:10,length:0})}get pagination$(){return this._pagination.asObservable()}updatePagination$(s){this._pagination.next(s)}getUsers(s=0,i=10,l,u,h,g,_){let o=s;-1!=s&&(o=s+1);let f=d.N.API_ENDPOINT+m.b.users.get_users,a=(new t.LE).set("page",o).set("limit",i);return console.log("email_validate",h),u&&(a=a.append("search",u)),_&&(a=a.append("phone",_)),g&&(a=a.append("email",g)),"boolean"==typeof h&&(a=a.append("verified",h)),l&&(a=a.append("status",l)),this._httpClient.get(`${f}`,{params:a}).pipe((0,b.U)(T=>{if(T.success){const A=T.data;return this._users.next(A),this._pagination.next({length:T.page_info.count,pageIndex:s,pageSize:i}),A}}))}getUserbyId(s){return this._httpClient.get(`${d.N.API_ENDPOINT+m.b.users.get_user}/${s}`).pipe((0,b.U)(l=>{if(l.success){const u=l.data;return this._user.next(u),u}}))}getUsers_documents(s=0,i=10,l,u){let h=s+1,g=d.N.API_ENDPOINT+m.b.users.users_document,_=(new t.LE).set("page",h).set("limit",i);return u&&(_=_.append("email",u)),l&&(_=_.append("status",l)),this._httpClient.get(`${g}`,{params:_}).pipe((0,b.U)(o=>{if(o.success){const f=o.data;return this._users_document.next(f),this._pagination.next({length:o.page_info.count,pageIndex:s,pageSize:i}),f}}))}delete_user_document(s){return this._httpClient.delete(`${d.N.API_ENDPOINT+m.b.users.delete_user_document}/${s}`)}delete_user_account(s){return this._httpClient.delete(`${d.N.API_ENDPOINT+m.b.users.delete_user_document}/${s}`)}update_status_user_document(s,i){return this._httpClient.put(`${d.N.API_ENDPOINT+m.b.users.update_status_document}/${s}`,{...i})}getAll_users_wallet(s=0,i=10,l,u,h){let g=s+1,_=d.N.API_ENDPOINT+m.b.users.all_users_wallet,o=(new t.LE).set("page",g).set("limit",i);return l&&(o=o.append("type",l)),u&&(o=o.append("for_type",u)),h&&(o=o.append("email",h)),this._httpClient.get(`${_}`,{params:o}).pipe((0,b.U)(f=>{if(f.success){const a=f.data;return this._all_users_wallet.next(a),this._pagination.next({length:f.page_info.count,pageIndex:s,pageSize:i}),a}}))}sendAdminOto(){return this._httpClient.post(`${d.N.API_ENDPOINT+m.b.users.admin_otp}`,{})}Update_user_wallet(s,i){return this._httpClient.put(`${d.N.API_ENDPOINT+m.b.users.update_user_wallet}/${s}`,{...i})}update_user_information(s,i){return this._httpClient.put(`${d.N.API_ENDPOINT+m.b.users.update_user_information}/${s}`,{...i})}resend_email(s){return this._httpClient.post(`${d.N.API_ENDPOINT+m.b.users.resend_email}`,{user_id:s})}download_batch_refill_request(s){return new I.y(i=>{this._httpClient.head(s,{observe:"response"}).subscribe(l=>{console.log("response",l);const u=l.headers;console.log("headers received",l.headers);const h=u.get("Content-Disposition"),_=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(h),o=null!==_&&_[1]?_[1].replace(/['"]/g,""):"file";console.log("fileName",o),console.log("contentDisposition",h),console.log("matches",_),console.log("fileName",o),this._httpClient.get(s,{responseType:"blob"}).subscribe(f=>{const a=document.createElement("a");a.href=URL.createObjectURL(f),a.download=o,a.click(),i.next(),i.complete()})})})}user_batch_refill_requests_all(s=0,i=10,l){let u=s+1,h=d.N.API_ENDPOINT+m.b.users.users_batch_refill_requests,g=(new t.LE).set("page",u).set("limit",i);return l&&(g=g.append("search",l)),this._httpClient.get(`${h}`,{params:g}).pipe((0,b.U)(_=>{if(_.success){const o=_.data;return this._users_batch_refill_requests.next(o),this._pagination.next({length:_.page_info.count,pageIndex:s,pageSize:i}),o}}))}delete_bulk(s){return this._httpClient.delete(`${d.N.API_ENDPOINT+m.b.users.delete_bulk}/${s}`)}all_emails(){let s=d.N.API_ENDPOINT+m.b.users.all_users_emails,i=(new t.LE).set("page",-1);return this._httpClient.get(`${s}`,{params:i}).pipe((0,b.U)(l=>{if(l.success)return l.data}))}get_all_wishlist(s=0,i=10){let l=s+1,u=d.N.API_ENDPOINT+m.b.users.all_wishlist,h=(new t.LE).set("page",l).set("limit",i);return this._httpClient.get(`${u}`,{params:h}).pipe((0,b.U)(g=>{if(g.success){const _=g.data;return this._all_wishlist.next(_),this._pagination.next({length:g.page_info.count,pageIndex:s,pageSize:i}),_}}))}onPdfviewNewTab(s){return this._httpClient.get(s,{responseType:"blob"}).pipe((0,b.U)(i=>new Blob([i.blob()],{type:"application/pdf"})))}gest_users(s=0,i=10,l,u,h,g,_){let o=s;-1!=s&&(o=s+1);let f=d.N.API_ENDPOINT+m.b.users.gest_users,a=(new t.LE).set("page",o);return i&&-1!==s&&(a=a.append("limit",i)),h&&(a=a.append("name",h)),u&&(a=a.append("phone",u)),l&&(a=a.append("email",l)),g&&(a=a.append("start_date",g)),_&&(a=a.append("end_data",_)),this._httpClient.get(`${f}`,{params:a}).pipe((0,b.U)(T=>{if(T.success){const A=T.data;return this._guest_users.next(A),this._pagination.next({length:T.page_info.count,pageIndex:s,pageSize:i}),A}}))}get_all_newsLetters(s=0,i=10,l,u,h){let g=s;-1!=s&&(g=s+1);let _=d.N.API_ENDPOINT+m.b.users.all_newsLetters,o=(new t.LE).set("page",g);return i&&-1!==s&&(o=o.append("limit",i)),l&&(o=o.append("search",l)),u&&(o=o.append("start_date",u)),h&&(o=o.append("end_data",h)),this._httpClient.get(`${_}`,{params:o}).pipe((0,b.U)(f=>{if(f.success){const a=f.data;return this._all_newsLetters.next(a),this._pagination.next({length:f.page_info.count,pageIndex:s,pageSize:i}),a}}))}static#t=this.\u0275fac=function(i){return new(i||v)(w.LFG(t.eN))};static#e=this.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()}}]);
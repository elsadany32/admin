"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3762],{3762:(ae,Z,a)=>{a.r(Z),a.d(Z,{default:()=>ee});var I=a(2787),e=a(5879),u=a(6814),m=a(6223),_=a(2296),y=a(617),w=a(4516),C=a(1476),p=a(5313),S=a(5742),A=a(4553),N=a(53),Q=a(2948),G=a(7457),d=a(1993),D=a(836),U=a(9397),J=a(2572),c=a(3997),h=a(7921),R=a(4664),k=a(6306),f=a(8034),b=a(2596),g=a(1486),v=a(1043);function O(t,i){1&t&&(e.TgZ(0,"th",37),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","S.No"," "))}function j(t,i){if(1&t&&(e.TgZ(0,"td",38)(1,"span",39),e._uU(2),e.qZA()()),2&t){const n=i.index,o=e.oxw(3);e.xp6(2),e.hij(" ",n+1+o.pageIndex*o.pageSize," ")}}function E(t,i){1&t&&(e.TgZ(0,"th",40),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Full Name"," "))}function z(t,i){if(1&t&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.hij(" ",n.full_name," ")}}function L(t,i){1&t&&(e.TgZ(0,"th",40),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Email / Phone"," "))}function M(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"td",41)(1,"span",42),e.NdJ("click",function(){const l=e.CHM(n).$implicit,r=e.oxw(3);return e.KtG(r.UserOrders(null==l?null:l.email))}),e._uU(2),e.qZA(),e.TgZ(3,"span",43),e._uU(4),e.qZA()()}if(2&t){const n=i.$implicit;e.xp6(1),e.Q6J("matTooltip","Show Orders"),e.xp6(1),e.hij(" ",null==n?null:n.email,""),e.xp6(2),e.hij(" ",null==n?null:n.phone,"")}}function Y(t,i){1&t&&(e.TgZ(0,"th",40),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Reg Date"," "))}function B(t,i){if(1&t&&(e.TgZ(0,"td",41)(1,"span",44),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&t){const n=i.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,n.createdAt,"dd/MM/yyyy,hh:mm a")," ")}}function P(t,i){1&t&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Orders"," "))}function H(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"td",41)(1,"button",46),e.NdJ("click",function(){const l=e.CHM(n).$implicit,r=e.oxw(3);return e.KtG(r.UserOrders(null==l?null:l.email))}),e._UZ(2,"mat-icon",47),e.qZA()()}2&t&&(e.xp6(2),e.Q6J("svgIcon","heroicons_solid:eye"))}function $(t,i){1&t&&e._UZ(0,"tr",48)}function F(t,i){1&t&&e._UZ(0,"tr",49)}function W(t,i){if(1&t&&(e.TgZ(0,"table",24),e.ynx(1,25),e.YNc(2,O,2,1,"th",26),e.YNc(3,j,3,1,"td",27),e.BQk(),e.ynx(4,28),e.YNc(5,E,2,1,"th",29),e.YNc(6,z,2,1,"td",30),e.BQk(),e.ynx(7,31),e.YNc(8,L,2,1,"th",29),e.YNc(9,M,5,3,"td",30),e.BQk(),e.ynx(10,32),e.YNc(11,Y,2,1,"th",29),e.YNc(12,B,4,4,"td",30),e.BQk(),e.ynx(13,33),e.YNc(14,P,2,1,"th",34),e.YNc(15,H,3,1,"td",30),e.BQk(),e.YNc(16,$,1,0,"tr",35),e.YNc(17,F,1,0,"tr",36),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("dataSource",n.users),e.xp6(16),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns)}}function X(t,i){if(1&t&&(e.ynx(0),e.YNc(1,W,18,3,"table",23),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isLoading)}}function K(t,i){if(1&t&&(e.ynx(0),e._UZ(1,"app-loading-skeltons",50),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("skeltonType",n.skletonTable)}}function q(t,i){1&t&&(e.ynx(0),e._UZ(1,"app-empty-state",51),e.BQk()),2&t&&(e.xp6(1),e.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const V=function(t,i){return{"pointer-events-none":t,hidden:i}},ee=[{path:"",component:(()=>{class t{constructor(){this.pageIndex=0,this.pageSize=10,this.pageSizeOptions=[10,20,50,100],this.total_recoreds=0,this.users=[],this.skletonTable=Q.q.TABLE,this.isLoading=!0,this.destroyRef=(0,e.f3M)(e.ktI),this._UsersService=(0,e.f3M)(G.f),this.Router=(0,e.f3M)(I.F0),this.datePipe=(0,e.f3M)(u.uU),this.email_searchInputControl=new m.p4,this.phone_searchInputControl=new m.p4,this.name_searchInputControl=new m.p4,this.start_date_InputControl=new m.p4,this.end_InputControl=new m.p4,this.displayedColumns=["S_No","full_name","email","Reg_Date","action"]}ngOnInit(){this._UsersService.updatePagination$({pageIndex:0,pageSize:50,length:0}),this._UsersService.gest_users$.pipe((0,d.sL)(this.destroyRef),(0,D.T)(1),(0,U.b)(o=>{console.log("loading data !",o),this.users=o,this.isLoading=!1})).subscribe(),(0,J.a)([this._UsersService.pagination$.pipe((0,U.b)(o=>{this.pageIndex=o.pageIndex,this.pageSize=o.pageSize}),(0,c.x)((o,s)=>o.pageIndex===s.pageIndex&&o.pageSize===s.pageSize)),this.email_searchInputControl.valueChanges.pipe((0,h.O)(""),(0,c.x)()),this.phone_searchInputControl.valueChanges.pipe((0,h.O)(""),(0,c.x)()),this.name_searchInputControl.valueChanges.pipe((0,h.O)(""),(0,c.x)()),this.start_date_InputControl.valueChanges.pipe((0,h.O)(""),(0,c.x)()),this.end_InputControl.valueChanges.pipe((0,h.O)(""),(0,c.x)())]).pipe((0,d.sL)(this.destroyRef),(0,R.w)(([o,s,l,r,x,T])=>this._UsersService.gest_users(o?.pageIndex,o?.pageSize,s,l,r,x,T)),(0,k.K)(o=>(this.isLoading=!1,o))).subscribe(),this._UsersService.pagination$.pipe((0,d.sL)(this.destroyRef),(0,U.b)(o=>{this._paginator.length=o.length,this.total_recoreds=o.length,this._paginator.pageIndex=o.pageIndex,this._paginator.pageSize=o.pageSize})).subscribe()}pageChange(n){this._UsersService.updatePagination$(n)}ExportEmails(){this._UsersService.gest_users(-1).pipe((0,d.sL)(this.destroyRef)).subscribe({next:n=>{console.log("data",n),this.exportToExcel(n,"exported_data")},error:n=>{console.log("err",n)}})}exportToExcel(n,o){const s=n.map(oe=>({email:oe.email})),l=g.P6.json_to_sheet(s),r=g.P6.book_new();g.P6.book_append_sheet(r,l,"Sheet1");const x=new Date,T=this.datePipe.transform(x,"yyyy-MM-dd"),te=this.datePipe.transform(x,"HH-mm");g.NC(r,`guest-users_emails-${T}_${te}.xlsx`)}UserOrders(n){n&&this.Router.navigate(["orders/all-orders"],{queryParams:{emailPhoneSearch:n}})}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-guest-users"]],viewQuery:function(o,s){if(1&o&&e.Gf(C.NW,7),2&o){let l;e.iGM(l=e.CRH())&&(s._paginator=l.first)}},standalone:!0,features:[e._Bn([u.uU]),e.jDz],decls:44,vars:21,consts:[[1,"relative","inset-0","min-w-0","w-full"],[1,"flex-auto","pt-4","pb-10","md:px-0","min-w-max"],[1,"h-full","max-h-max","min-w-max"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","w-full","min-w-max"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","flex-row","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-primary","text-gray-950","px-4","rounded","py-2",3,"click"],[1,"relative","flex","flex-row","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-2","border-b","w-full"],[1,"flex","w-full","flex-row","sm:flex-row","sm:justify-between","gap-x-4","px-5"],[1,"w-full"],["matInput","","id","search","type","text","placeholder"," Name",3,"formControl"],["matInput","","id","email","type","email","placeholder","search by Email",3,"formControl","autocomplete"],["matInput","","id","phone","type","email","placeholder","search by phone",3,"formControl","autocomplete"],["color","primary",1,"w-full"],["matInput","","placeholder","From date",3,"matDatepicker","formControl"],["matIconSuffix","",3,"for"],["picker1",""],["matInput","","placeholder","To date",3,"matDatepicker","formControl"],["picker2",""],[1,"flex","flex-col","flex-auto","min-w-max"],[1,"flex","flex-col","w-full","h-full","max-h-max","min-w-max","border"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","","class","whitespace-nowrap px-2",4,"matHeaderCellDef"],["class","whitespace-nowrap px-2 w-20","mat-cell","",4,"matCellDef"],["matColumnDef","full_name"],["mat-header-cell","","class","whitespace-nowrap px-3",4,"matHeaderCellDef"],["mat-cell","","class","whitespace-nowrap px-3",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","Reg_Date"],["matColumnDef","action",1,"whitespace-nowrap","px-3"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"whitespace-nowrap","px-2"],["mat-cell","",1,"whitespace-nowrap","px-2","w-20"],[1,"font-medium","text-sm","text-secondary","max-w-50"],["mat-header-cell","",1,"whitespace-nowrap","px-3"],["mat-cell","",1,"whitespace-nowrap","px-3"],[1,"text-blue-500",3,"matTooltip","click"],[1,"block"],[1,""],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-green-400","icon-size-5",3,"svgIcon"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(o,s){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return s.ExportEmails()}),e._uU(8," Export Emails TO XLSX "),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),e._uU(13,"Saerch by Name"),e.qZA(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"mat-form-field",9)(16,"mat-label"),e._uU(17,"Saerch by Email"),e.qZA(),e._UZ(18,"input",11),e.qZA(),e.TgZ(19,"mat-form-field",9)(20,"mat-label"),e._uU(21,"Saerch by phone"),e.qZA(),e._UZ(22,"input",12),e.qZA(),e.TgZ(23,"mat-form-field",13)(24,"mat-label"),e._uU(25,"From"),e.qZA(),e._UZ(26,"input",14)(27,"mat-datepicker-toggle",15)(28,"mat-datepicker",null,16),e.qZA(),e.TgZ(30,"mat-form-field",13)(31,"mat-label"),e._uU(32,"To"),e.qZA(),e._UZ(33,"input",17)(34,"mat-datepicker-toggle",15)(35,"mat-datepicker",null,18),e.qZA()()(),e.TgZ(37,"div",19)(38,"div",20),e.YNc(39,X,2,1,"ng-container",21),e.YNc(40,K,2,1,"ng-container",21),e.ynx(41),e.TgZ(42,"mat-paginator",22),e.NdJ("page",function(r){return s.pageChange(r)}),e.qZA(),e.BQk(),e.YNc(43,q,2,2,"ng-container",21),e.qZA()()()()()()),2&o){const l=e.MAs(29),r=e.MAs(36);e.xp6(6),e.hij(" Total Records : ",s.total_recoreds," "),e.xp6(8),e.Q6J("formControl",s.name_searchInputControl),e.xp6(4),e.Q6J("formControl",s.email_searchInputControl)("autocomplete","true"),e.xp6(4),e.Q6J("formControl",s.phone_searchInputControl)("autocomplete","true"),e.xp6(4),e.Q6J("matDatepicker",l)("formControl",s.start_date_InputControl),e.xp6(1),e.Q6J("for",l),e.xp6(6),e.Q6J("matDatepicker",r)("formControl",s.end_InputControl),e.xp6(1),e.Q6J("for",r),e.xp6(5),e.Q6J("ngIf",s.users.length),e.xp6(1),e.Q6J("ngIf",s.isLoading),e.xp6(2),e.Q6J("ngClass",e.WLB(18,V,s.isLoading,!s.users.length))("pageSizeOptions",s.pageSizeOptions)("showFirstLastButtons",!0),e.xp6(1),e.Q6J("ngIf",!s.users.length&&!s.isLoading)}},dependencies:[u.O5,u.mk,u.uU,C.TU,C.NW,p.p0,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,y.Ps,y.Hw,_.ot,_.lW,_.RK,A.W,w.c,w.Nt,v.KE,v.hX,v.R9,m.UX,m.Fj,m.JJ,m.oH,N.vi,S.s,f.FA,f.Mq,f.hl,f.nW,b.AV,b.gM],styles:["app-guest-users[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]})}return t})()}]}}]);
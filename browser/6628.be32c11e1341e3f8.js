"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6628],{6628:(Pt,F,c)=>{c.r(F),c.d(F,{default:()=>yt});var T=c(5986),A=c(6814),w=c(5313),S=c(9488),h=c(4104),C=c(3680),v=c(2296),k=c(617),a=c(6223),g=c(1043),q=c(4516),N=c(2596),I=c(8525),Q=c(5940),J=c(3963),_=c(1993),Z=c(7466),m=c(8034),U=c(6170),P=c(540),M=c(2181),D=c(9397),O=c(9315),R=c(4664),V=c(3519),Y=c.n(V),t=c(5879),B=c(6278),G=c(6477),E=c(7700),K=c(6263);const j=["tabGroup"];function H(o,l){if(1&o&&(t.TgZ(0,"mat-option",42)(1,"span",43),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.Q6J("value",e._id),t.xp6(2),t.Oqu(e.brand_name)}}function L(o,l){1&o&&(t.TgZ(0,"span"),t._uU(1," - Main category "),t.qZA())}function $(o,l){if(1&o&&(t.TgZ(0,"mat-option",42)(1,"span",43),t._uU(2),t.qZA(),t.YNc(3,L,2,0,"span",44),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e._id),t.xp6(2),t.Oqu(e.category_name),t.xp6(1),t.Q6J("ngIf","main"===e.category_type)}}function z(o,l){if(1&o&&(t.TgZ(0,"mat-option",42)(1,"span",43),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.Q6J("value",e._id),t.xp6(2),t.Oqu(e.tag_name)}}function W(o,l){if(1&o&&(t.TgZ(0,"mat-option",42)(1,"span",43),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.Q6J("value",e),t.xp6(2),t.Oqu(e)}}function X(o,l){1&o&&t._UZ(0,"img",45)}function tt(o,l){if(1&o&&t._UZ(0,"img",46),2&o){const e=t.oxw(2);t.Q6J("src",e.product_image,t.LSH)}}const y=function(o){return{"border rounded border-warn":o}};function et(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",22),t.ynx(1),t.TgZ(2,"div",1)(3,"mat-form-field",23)(4,"mat-label"),t._uU(5),t.qZA(),t._UZ(6,"input",24),t.qZA()(),t.BQk(),t.ynx(7),t.TgZ(8,"div",1)(9,"mat-label",25),t._uU(10),t.qZA(),t._UZ(11,"span",26)(12,"quill-editor",27),t.qZA(),t.BQk(),t.ynx(13),t.TgZ(14,"div",1)(15,"mat-label",25),t._uU(16),t.qZA(),t._UZ(17,"span",26)(18,"quill-editor",28),t.qZA(),t.BQk(),t.ynx(19),t.TgZ(20,"div",1)(21,"mat-label",25),t._uU(22),t.qZA(),t._UZ(23,"span",26)(24,"quill-editor",29),t.qZA(),t.BQk(),t.ynx(25),t.TgZ(26,"div",30)(27,"mat-form-field",23)(28,"mat-label"),t._uU(29),t.qZA(),t.TgZ(30,"mat-select",31),t.YNc(31,H,3,2,"mat-option",32),t.qZA()()(),t.BQk(),t.ynx(32),t.TgZ(33,"div",30)(34,"mat-form-field",23)(35,"mat-label"),t._uU(36),t.qZA(),t.TgZ(37,"mat-select",33),t.YNc(38,$,4,3,"mat-option",32),t.qZA()()(),t.BQk(),t.ynx(39),t.TgZ(40,"div",30)(41,"mat-form-field",23)(42,"mat-label"),t._uU(43),t.qZA(),t.TgZ(44,"mat-select",33),t.YNc(45,z,3,2,"mat-option",32),t.qZA()()(),t.BQk(),t.ynx(46),t.TgZ(47,"mat-form-field",23)(48,"mat-label"),t._uU(49),t.qZA(),t.TgZ(50,"mat-select",31),t.YNc(51,W,3,2,"mat-option",32),t.qZA()(),t.BQk(),t.ynx(52),t.TgZ(53,"div",34)(54,"p",35),t._uU(55),t.qZA(),t.TgZ(56,"div",36),t.YNc(57,X,1,0,"img",37),t.YNc(58,tt,1,1,"img",38),t.TgZ(59,"div")(60,"input",39,40),t.NdJ("change",function(){t.CHM(e);const r=t.MAs(61),n=t.oxw();return t.KtG(n.uploadImage(r.files,"product_image"))}),t.qZA()(),t.TgZ(62,"button",41),t.NdJ("click",function(){t.CHM(e);const r=t.MAs(61);return t.KtG(r.click())}),t._uU(63),t.qZA()()(),t.BQk(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu("Product Name "),t.xp6(1),t.Q6J("formControlName","product_name"),t.xp6(4),t.Oqu("Short Description "),t.xp6(2),t.Q6J("ngClass",t.VKq(40,y,e.isEditorContentInvalid("product_short_description")))("required",!0)("formControlName","product_short_description")("bounds","self")("modules",e.quillModules),t.xp6(4),t.Oqu("Description "),t.xp6(2),t.Q6J("ngClass",t.VKq(42,y,e.isEditorContentInvalid("product_description")))("required",!0)("formControlName","product_description")("bounds","self")("modules",e.quillModules),t.xp6(4),t.Oqu("Product Specification "),t.xp6(2),t.Q6J("ngClass",t.VKq(44,y,e.isEditorContentInvalid("product_specification")))("required",!0)("formControlName","product_specification")("bounds","self")("modules",e.quillModules),t.xp6(5),t.Oqu("Product Brand"),t.xp6(1),t.Q6J("formControlName","product_brand_id"),t.xp6(1),t.Q6J("ngForOf",e.brands),t.xp6(5),t.Oqu("Product Category"),t.xp6(1),t.Q6J("formControlName","product_category"),t.xp6(1),t.Q6J("ngForOf",e.categories),t.xp6(5),t.Oqu("Product Tags "),t.xp6(1),t.Q6J("formControlName","product_tags"),t.xp6(1),t.Q6J("ngForOf",e.tags),t.xp6(4),t.Oqu("Status"),t.xp6(1),t.Q6J("formControlName","status"),t.xp6(1),t.Q6J("ngForOf",e.statustypes),t.xp6(4),t.hij(" ","product image *"," "),t.xp6(2),t.Q6J("ngIf",!e.product_image),t.xp6(1),t.Q6J("ngIf",e.product_image),t.xp6(2),t.Q6J("disabled",e.productForm.disabled)("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("disabled",e.productForm.disabled),t.xp6(1),t.hij(" ","Select Image"," ")}}function ot(o,l){if(1&o&&(t.TgZ(0,"mat-option",42)(1,"span",43),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(2),t.Oqu(e.name)}}function rt(o,l){if(1&o&&(t.ynx(0)(1),t.TgZ(2,"div",1)(3,"mat-form-field",23)(4,"mat-label"),t._uU(5),t.qZA(),t._UZ(6,"input",52),t.qZA()(),t.BQk(),t.ynx(7),t.TgZ(8,"div",1)(9,"mat-form-field",23)(10,"mat-label"),t._uU(11),t.qZA(),t._UZ(12,"input",53),t.qZA()(),t.BQk(),t.ynx(13),t.TgZ(14,"div",54)(15,"div",55)(16,"mat-form-field",23)(17,"mat-label"),t._uU(18,"Duration of Special Price"),t.qZA(),t.TgZ(19,"mat-date-range-input",56),t._UZ(20,"input",57)(21,"input",58),t.qZA(),t.TgZ(22,"mat-hint"),t._uU(23,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.qZA(),t._UZ(24,"mat-datepicker-toggle",59)(25,"mat-date-range-picker",null,60),t.qZA()()(),t.BQk(),t.ynx(27),t.TgZ(28,"div",1)(29,"mat-form-field",23)(30,"mat-label"),t._uU(31),t.qZA(),t._UZ(32,"input",61),t.qZA()(),t.BQk(),t.ynx(33),t.TgZ(34,"div",1)(35,"mat-form-field",23)(36,"mat-label"),t._uU(37),t.qZA(),t._UZ(38,"input",62),t.qZA()(),t.BQk(),t.ynx(39),t.TgZ(40,"mat-form-field",23)(41,"mat-label"),t._uU(42),t.qZA(),t.TgZ(43,"mat-select",31),t.YNc(44,ot,3,2,"mat-option",32),t.qZA()(),t.BQk()()),2&o){const e=t.MAs(26),i=t.oxw(2);t.xp6(5),t.Oqu("Price "),t.xp6(1),t.Q6J("formControlName","regular_price"),t.xp6(5),t.Oqu("Special Price "),t.xp6(1),t.Q6J("formControlName","special_price"),t.xp6(7),t.Q6J("comparisonStart",i.productForm.special_price_start_date)("comparisonEnd",i.productForm.special_price_end_date)("rangePicker",e),t.xp6(1),t.Q6J("formControlName","special_price_start_date"),t.xp6(1),t.Q6J("formControlName","special_price_end_date"),t.xp6(3),t.Q6J("for",e),t.xp6(7),t.Oqu("Stock Quantity "),t.xp6(1),t.Q6J("formControlName","product_quantity"),t.xp6(5),t.Oqu("Alert Stock "),t.xp6(1),t.Q6J("formControlName","product_alert_quantity"),t.xp6(4),t.Oqu("Stock Availability"),t.xp6(1),t.Q6J("formControlName","stock_availability"),t.xp6(1),t.Q6J("ngForOf",i.stock_availability)}}const it=function(o,l,e,i){return{attribute_name:o,attribute_id_parent:l,attribute_id:e,attribute_value:i}};function nt(o,l){if(1&o&&(t.TgZ(0,"mat-option",42)(1,"span",43),t._uU(2),t.qZA()()),2&o){const e=l.$implicit,i=t.oxw().$implicit;t.Q6J("value",t.l5B(2,it,i.attributes_name,i._id,e._id,e.attribute_value)),t.xp6(2),t.Oqu(e.attribute_value)}}const b=function(){return{standalone:!0}};function at(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",23)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-select",70),t.NdJ("ngModelChange",function(r){const s=t.CHM(e).index,u=t.oxw(4);return t.KtG(u.selectedItemsAttribue2Dimension[s]=r)}),t.YNc(5,nt,3,7,"mat-option",32),t.qZA()(),t.BQk()}if(2&o){const e=l.$implicit,i=l.index,r=t.oxw(4);t.xp6(3),t.Oqu("Select "+e.attributes_name+" Options"),t.xp6(1),t.Q6J("ngModel",r.selectedItemsAttribue2Dimension[i])("ngModelOptions",t.DdM(4,b)),t.xp6(1),t.Q6J("ngForOf",e.attributes_valus)}}function lt(o,l){if(1&o&&(t.ynx(0),t.YNc(1,at,6,5,"ng-container",69),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.attribue_selectet)}}const ct=function(o,l){return{attribute_name:"color",attribute_id:o,attribute_id_parent:"100",attribute_value:l}};function st(o,l){if(1&o&&(t.TgZ(0,"mat-option",42)(1,"span",43),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.Q6J("value",t.WLB(2,ct,e._id,e.color_name)),t.xp6(2),t.Oqu(e.color_name)}}function dt(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",23)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-select",70),t.NdJ("ngModelChange",function(r){t.CHM(e);const n=t.oxw(3);return t.KtG(n.coloroptions=r)}),t.YNc(5,st,3,5,"mat-option",32),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(3),t.Oqu("Select color options"),t.xp6(1),t.Q6J("ngModel",e.coloroptions)("ngModelOptions",t.DdM(4,b)),t.xp6(1),t.Q6J("ngForOf",e.colors)}}function ut(o,l){if(1&o&&(t.TgZ(0,"th",78),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.xp6(1),t.hij(" ",e," ")}}function pt(o,l){if(1&o&&(t.TgZ(0,"td",94),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.xp6(1),t.hij(" ",e.attribute_value," ")}}function _t(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr",81),t.ynx(1,82),t.TgZ(2,"td",83)(3,"mat-radio-group",84),t.NdJ("change",function(r){const s=t.CHM(e).index,u=t.oxw(4);return t.KtG(u.updateGroupValue(r,s))}),t._UZ(4,"mat-radio-button",85),t.qZA()(),t.YNc(5,pt,2,1,"td",86),t.TgZ(6,"td",87),t._UZ(7,"input",88),t.qZA(),t.TgZ(8,"td",87),t._UZ(9,"input",89),t.qZA(),t.TgZ(10,"td",87),t._UZ(11,"input",90),t.qZA(),t.TgZ(12,"td",87),t._UZ(13,"input",91),t.qZA(),t.TgZ(14,"td",78)(15,"button",92),t.NdJ("click",function(){const n=t.CHM(e).index,s=t.oxw(4);return t.KtG(s.deleteOptionFromTable(n))}),t._UZ(16,"mat-icon",93),t.qZA()(),t.BQk(),t.qZA()}if(2&o){const e=l.$implicit,i=l.index;t.xp6(1),t.Q6J("formGroupName",i),t.xp6(2),t.Q6J("color","primary")("formControlName","default"),t.xp6(1),t.Q6J("color","primary")("value",!0),t.xp6(1),t.Q6J("ngForOf",e),t.xp6(2),t.Q6J("formControlName","price"),t.xp6(2),t.Q6J("formControlName","salePrice"),t.xp6(2),t.Q6J("formControlName","current_Stock"),t.xp6(2),t.Q6J("formControlName","alert_Stock")}}function mt(o,l){if(1&o&&(t.ynx(0),t.TgZ(1,"div",71)(2,"div",72)(3,"table",73)(4,"thead",74)(5,"tr",75)(6,"th",76),t._uU(7," Default "),t.qZA(),t.YNc(8,ut,2,1,"th",77),t.TgZ(9,"th",78),t._uU(10," Price "),t.qZA(),t.TgZ(11,"th"),t._uU(12," Sale Price "),t.qZA(),t.TgZ(13,"th",78),t._uU(14," Current Stock "),t.qZA(),t.TgZ(15,"th",78),t._uU(16," Alert Stock "),t.qZA(),t.TgZ(17,"th",78),t._uU(18," Action "),t.qZA()()(),t.TgZ(19,"tbody"),t.ynx(20,79),t.YNc(21,_t,17,10,"tr",80),t.BQk(),t.qZA()()()(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(8),t.Q6J("ngForOf",e.attribute_header_table),t.xp6(13),t.Q6J("ngForOf",e.Product_varibles_table_Row)}}function gt(o,l){if(1&o){const e=t.EpF();t.ynx(0)(1),t.TgZ(2,"div",63)(3,"div",64)(4,"ng-multiselect-dropdown",65),t.NdJ("ngModelChange",function(r){t.CHM(e);const n=t.oxw(2);return t.KtG(n.selectedItems=r)})("onDeSelect",function(r){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onDeSelectAttribute(r))})("onSelectAll",function(r){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onSelectAllAttribute(r))})("onSelect",function(r){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onItemSelect(r))})("onDeSelectAll",function(r){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onDeSelectAllAttribute(r,n.selectedItems))}),t.qZA()(),t.TgZ(5,"div",66)(6,"mat-checkbox",67),t.NdJ("ngModelChange",function(r){t.CHM(e);const n=t.oxw(2);return t.KtG(n.ShowColorControl=r)}),t._uU(7,"Select Color"),t.qZA()()(),t.BQk(),t.YNc(8,lt,2,1,"ng-container",44),t.YNc(9,dt,6,5,"ng-container",44),t.ynx(10),t.TgZ(11,"div",1)(12,"button",68),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.Generate_Attributes())}),t._uU(13," Generate Attributes "),t.qZA()(),t.BQk(),t.YNc(14,mt,22,2,"ng-container",44),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("placeholder","Select Attribute")("settings",e.dropdownSettings)("data",e.attributes)("ngModel",e.selectedItems)("ngModelOptions",t.DdM(12,b)),t.xp6(2),t.Q6J("ngModel",e.ShowColorControl)("ngModelOptions",t.DdM(13,b))("color","primary")("disableRipple",!0),t.xp6(2),t.Q6J("ngIf",e.attribue_selectet.length),t.xp6(1),t.Q6J("ngIf",e.ShowColorControl),t.xp6(5),t.Q6J("ngIf",e.Product_varibles_table_Row.length)}}function ft(o,l){if(1&o&&(t.TgZ(0,"div",47)(1,"div",48)(2,"mat-radio-group",49)(3,"mat-radio-button",50),t._uU(4,"Single Product"),t.qZA(),t.TgZ(5,"mat-radio-button",51),t._uU(6,"Variable Product"),t.qZA()()(),t.YNc(7,rt,45,17,"ng-container",44),t.YNc(8,gt,15,14,"ng-container",44),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("color","primary")("formControlName","product_type"),t.xp6(5),t.Q6J("ngIf","single"===e.product_type),t.xp6(1),t.Q6J("ngIf","variable"===e.product_type)}}function ht(o,l){1&o&&(t.ynx(0),t._UZ(1,"img",100),t.BQk())}function bt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",103)(1,"button",104),t.NdJ("click",function(r){const s=t.CHM(e).index;return t.oxw(3).removeFile(s),t.KtG(r.stopPropagation())}),t._UZ(2,"mat-icon",105),t.qZA(),t.TgZ(3,"button",106),t.NdJ("click",function(r){const s=t.CHM(e).index;return t.oxw(3).fullscreen(s),t.KtG(r.stopPropagation())}),t._UZ(4,"mat-icon",107),t.qZA(),t._UZ(5,"img",108),t.qZA()}if(2&o){const e=l.$implicit;t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(3),t.Q6J("src",e.url,t.LSH)("alt",e.name)}}function xt(o,l){if(1&o&&(t.ynx(0),t.TgZ(1,"div",101),t.YNc(2,bt,6,3,"div",102),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.selectedImagesForProduct)}}function At(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",95)(1,"input",96,97),t.NdJ("change",function(){t.CHM(e);const r=t.MAs(3),n=t.oxw();return t.KtG(n.onFileSelected(r.files))}),t.qZA(),t.TgZ(4,"div",98)(5,"button",99),t.NdJ("click",function(){t.CHM(e);const r=t.MAs(2);return t.KtG(r.click())}),t._uU(6),t.qZA()(),t.YNc(7,ht,2,0,"ng-container",44),t.YNc(8,xt,3,1,"ng-container",44),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("accept","image/*"),t.xp6(5),t.hij(" ","Select Image"," "),t.xp6(1),t.Q6J("ngIf",!e.selectedImagesForProduct.length),t.xp6(1),t.Q6J("ngIf",e.selectedImagesForProduct.length)}}function Ct(o,l){1&o&&(t.TgZ(0,"div",22),t.ynx(1),t.TgZ(2,"div",1)(3,"mat-form-field",23)(4,"mat-label"),t._uU(5),t.qZA(),t._UZ(6,"input",109),t.qZA()(),t.BQk(),t.ynx(7),t.TgZ(8,"div",1)(9,"mat-form-field",23)(10,"mat-label"),t._uU(11),t.qZA(),t._UZ(12,"input",110),t.qZA()(),t.BQk(),t.ynx(13),t.TgZ(14,"div",1)(15,"mat-form-field",23)(16,"mat-label"),t._uU(17),t.qZA(),t._UZ(18,"textarea",111),t.qZA()(),t.BQk(),t.qZA()),2&o&&(t.xp6(5),t.Oqu("Product URL "),t.xp6(1),t.Q6J("formControlName","product_slug"),t.xp6(5),t.Oqu("Meta Title "),t.xp6(1),t.Q6J("formControlName","meta_title"),t.xp6(5),t.Oqu("Meta Description "),t.xp6(1),t.Q6J("formControlName","meta_description")("cdkAutosizeMinRows",3))}function vt(o,l){1&o&&t._UZ(0,"div",112)}function Zt(o,l){1&o&&t._UZ(0,"div",112)}const yt=[{path:"",component:(()=>{class o{constructor(e,i,r,n,s,u){this._changeDetectorRef=e,this._fuseConfirmationService=i,this._formBuilder=r,this._addProductService=n,this.destroyRef=s,this.matDialogRef=u,this.toast=Y().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.selectedItems=[],this.dropdownSettings={},this.Product_varibles_table_Row=[],this.attribute_header_table=[],this.statustypes=["active","inActive"],this.selectedImagesForProduct=[],this.stock_availability=[{value:"in_stock",name:"In Stock"},{value:"out_of_stock",name:"Out of Stock"}],this.selectedItemsAttribue2Dimension=[],this.coloroptions=[],this.mergedArrayAttribueSelected=[],this.product_related_products=[],this.product_cross_sale=[],this.tags=[],this.attributes=[],this.colors=[],this.product_type="single",this.attribue_selectet=[],this.product_image="",this.product_image_File=null,this.ShowColorControl=!1,this.quillModules={toolbar:[["bold","italic","underline"],[{align:[]},{list:"ordered"},{list:"bullet"}],["clean"]]},this.AttributeSelectedForm=new a.p4}resetFormToSingleProductMode(){this.Product_varibles_table_Row=[],this.attribute_header_table=[],this.selectedItemsAttribue2Dimension=[],this.mergedArrayAttribueSelected=[],this.attribue_selectet=[],this.selectedItems=[],this.ShowColorControl=!1,this.productForm.contains("attribute_options_array")&&this.productForm.removeControl("attribute_options_array"),this._changeDetectorRef.markForCheck(),this.addControlesToFormSingleMode()}resetFormToVariableProductMode(){this.productForm.contains("regular_price")&&this.productForm.removeControl("regular_price"),this.productForm.contains("special_price")&&this.productForm.removeControl("special_price"),this.productForm.contains("product_quantity")&&this.productForm.removeControl("product_quantity"),this.productForm.contains("stock_availability")&&this.productForm.removeControl("stock_availability"),this.productForm.contains("product_alert_quantity")&&this.productForm.removeControl("product_alert_quantity"),this.productForm.contains("special_price_end_date")&&this.productForm.removeControl("special_price_end_date"),this.productForm.contains("special_price_start_date")&&this.productForm.removeControl("special_price_start_date"),this.addControlesToFormVariableMode(),this._changeDetectorRef.markForCheck()}addControlesToFormSingleMode(){this.productForm.contains("regular_price")||this.productForm.addControl("regular_price",new a.NI("",[a.kI.required])),this.productForm.contains("special_price")||this.productForm.addControl("special_price",new a.NI("")),this.productForm.contains("product_quantity")||this.productForm.addControl("product_quantity",new a.NI("",[a.kI.required])),this.productForm.contains("stock_availability")||this.productForm.addControl("stock_availability",new a.NI("in_stock",[a.kI.required])),this.productForm.contains("product_alert_quantity")||this.productForm.addControl("product_alert_quantity",new a.NI("0",[a.kI.required])),this.productForm.contains("special_price_end_date")||this.productForm.addControl("special_price_end_date",new a.NI("")),this.productForm.contains("special_price_start_date")||this.productForm.addControl("special_price_start_date",new a.NI("")),this._changeDetectorRef.markForCheck()}addControlesToFormVariableMode(){this.productForm.contains("attribute_options_array")||this.productForm.addControl("attribute_options_array",this._formBuilder.array([])),this._changeDetectorRef.markForCheck()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"_id",data:this.attributes,textField:"attributes_name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:10},this.productForm=this._formBuilder.group({product_name:["",[a.kI.required]],product_slug:["",[a.kI.required]],meta_title:["",[a.kI.required]],product_image:["",[a.kI.required]],meta_description:["",[a.kI.required]],product_short_description:["",[a.kI.required]],product_description:["",[a.kI.required]],product_specification:["",[a.kI.required]],product_brand_id:["",[a.kI.required]],product_category:[],product_tags:["",[a.kI.required]],product_type:["single",[a.kI.required]],regular_price:["",[a.kI.required]],special_price:[],special_price_start_date:[],special_price_end_date:[],product_quantity:["",[a.kI.required]],stock_availability:["in_stock"],product_alert_quantity:[0],product_images:[],status:["active",[a.kI.required]],attribute_options_array:this._formBuilder.array([]),product_related_products:[],product_cross_sale:[]});const e={...this.productForm.value};console.log("paylaod:before resetFormToSingleProductMode ",e),this.resetFormToSingleProductMode();const i={...this.productForm.value};console.log("paylaod: after resetFormToSingleProductMode",i),this.productForm.get("product_type").valueChanges.subscribe(r=>{if("variable"===r){console.log("change variable product_type"),this.product_type="variable",this.resetFormToVariableProductMode();const n={...this.productForm.value};console.log("paylaod: ",n),this._changeDetectorRef.markForCheck()}else{console.log("change single product_type"),this.product_type="single",console.log("change single product_type"),this.clearAttributesValue(),this.resetFormToSingleProductMode();const n={...this.productForm.value};console.log("paylaod: ",n),this._changeDetectorRef.markForCheck()}}),this._addProductService.brands$.pipe((0,_.sL)(this.destroyRef)).subscribe(r=>{this.brands=r,this._changeDetectorRef.markForCheck()}),this._addProductService.categories$.pipe((0,_.sL)(this.destroyRef)).subscribe(r=>{this.categories=r,this._changeDetectorRef.markForCheck()}),this._addProductService.tags$.pipe((0,_.sL)(this.destroyRef)).subscribe(r=>{this.tags=r,this._changeDetectorRef.markForCheck()}),this._addProductService.attributes$.pipe((0,_.sL)(this.destroyRef)).subscribe(r=>{this.attributes=r,this._changeDetectorRef.markForCheck()}),this._addProductService.colors$.pipe((0,_.sL)(this.destroyRef)).subscribe(r=>{this.colors=r,this._changeDetectorRef.markForCheck()})}get attribute_options_array(){return this.productForm.get("attribute_options_array")}addAttributesValue(e){this.productForm.get("attribute_options_array").push(this.createAttributesValueControl(e))}createAttributesValueControl(e){let i=this._formBuilder.group({default:[!1,[a.kI.required]],price:["",[a.kI.required]],salePrice:["",[a.kI.required]],alert_Stock:[0,[a.kI.required]],current_Stock:["",[a.kI.required]],attribute_options_array_for_every_group:this._formBuilder.array([])});const r=i.get("attribute_options_array_for_every_group");return e.forEach(n=>{const s=this._formBuilder.group({attribute_id_parent:n.attribute_id_parent,attribute_name:n.attribute_name,attribute_value:n.attribute_value,attribute_id:n.attribute_id});r.push(s)}),i}removeAttributeValue(e){this.productForm.get("attribute_options_array").removeAt(e)}clearAttributesValue(){this.productForm.get("attributesValueArray")&&this.productForm.get("attributesValueArray").clear()}onItemSelect(e){const i=e._id,r=this.attributes.find(n=>n._id===i);this.attribue_selectet.push(r),console.log("attributeId",r)}onDeSelectAttribute(e){const i=e._id,r=this.attribue_selectet.findIndex(n=>n._id===i);-1!==r&&(this.attribue_selectet.splice(r,1),console.log("onDeSelectAttribute",e))}onSelectAllAttribute(e){this.attribue_selectet=null,this.attribue_selectet=[...this.attributes],this._changeDetectorRef.markForCheck()}onDeSelectAllAttribute(e,i){this.attribue_selectet=[],console.log("onDeSelectAllAttribute",e),console.log(" this.selectedItems",this.selectedItems),this._changeDetectorRef.markForCheck()}Generate_Attributes(){this.clearAttributesValue(),console.log("this.selectedItemsAttribue2Dimension",this.selectedItemsAttribue2Dimension),this.mergedArrayAttribueSelected=this.selectedItemsAttribue2Dimension.reduce((d,p)=>d.concat(p),[]),console.log("mergedArrayAttribueSelected",this.mergedArrayAttribueSelected);const e={};this.mergedArrayAttribueSelected.forEach(d=>{console.log("item selected forEach",d);const{attribute_name:p,attribute_id:f,attribute_id_parent:x}=d;e[p]||(e[p]={attribute:p,attribute_id_parent:x,values:[]}),e[p].values.push({attribute_id:f,attribute_value:d.attribute_value})});const i=Object.values(e);console.log("result grouped",i);const r=[],n={attribute:"color",attribute_id_parent:"test",values:this.coloroptions.map(d=>({attribute_id:d.attribute_id,attribute_value:d.attribute_value}))};if(!i.length)return void this._fuseConfirmationService.open({title:"Wrong operation !",message:'<span class="font-medium">please Select Option or Color value For genration table!</span>',icon:{show:!1,name:"heroicons_outline:exclamation-triangle",color:"warn"},actions:{confirm:{show:!0,label:"ok",color:"accent"},cancel:{show:!1,label:"Cancel"}},dismissible:!0});n.values.length&&i.push(n),console.log("result grouped aftre add color group",i),this.attribute_header_table=i.map(d=>d.attribute),function s(d,p,f){if(d===f.length)return void r.push(p);const x=f[d],{attribute_id_parent:Ft,values:Tt}=x;Tt.forEach(kt=>{const{attribute_id:qt,attribute_value:It}=kt;s(d+1,[...p,{attribute_name:x.attribute,attribute_id_parent:Ft,attribute_id:qt,attribute_value:It}],f)})}(0,[],i),console.log(r),this.Product_varibles_table_Row=r,this.Product_varibles_table_Row.forEach(d=>{console.log("item:appy from array ",d),this.addAttributesValue(d)});const u=this.productForm.get("attribute_options_array");console.log("this.productForm. attribute_options_array",u)}SelectAllOptionsFromtable(e){console.log("event SelectAllOptionsFromtable",e)}isEditorContentInvalid(){}AttributeSelected(e){console.log("AttributeSelected",e),console.log("attributeSelected",e.value)}deleteOptionFromTable(e){this._fuseConfirmationService.open({title:"Delete Option From Table",message:"Are you sure you want to remove this item? ",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,M.h)(r=>"confirmed"===r),(0,D.b)(()=>{this.Product_varibles_table_Row.splice(e,1),this._changeDetectorRef.markForCheck()})).subscribe()}goToPreviousTab(){const e=this.tabGroup.selectedIndex-1;e>=0&&(this.tabGroup.selectedIndex=e)}goToNextTab(){const e=this.tabGroup.selectedIndex+1;e<this.tabGroup._tabs.length&&(this.tabGroup.selectedIndex=e)}fullscreen(e){let i=this.selectedImagesForProduct.at(e);this.matDialogRef.open(U.J,{maxWidth:"800px",width:"100%",panelClass:"fuse-confirmation-dialog-panel",data:{file:i}})}onFileSelected(e){if(console.log("onFileSelected",event),e.length){this.selectedImagesForProduct=[];for(let i=0;i<e.length;i++){if(i>4)return void this.toast.fire({icon:"warning",title:"maximum images 5 "});const r=e[i],n=new FileReader;n.onload=s=>{r.url=s.target.result,this._changeDetectorRef.markForCheck()},n.readAsDataURL(r),this.selectedImagesForProduct.push(r)}}}removeFile(e){this.selectedImagesForProduct.splice(e,1)}uploadImages(){this._addProductService.uploadImages(this.selectedImagesForProduct).pipe((0,_.sL)(this.destroyRef)).subscribe({next:e=>{console.log("uploadImages",e),this.productForm.get("product_images").setValue(e),this.toast.fire({icon:"success",title:"Uploaded Image Success"})},error:e=>{console.log("uploadImages err",e),this.toast.fire({icon:"error",title:e.error?.message})}})}uploadImage(e,i){if(console.log("product image ",e),!e.length)return;const n=e[0];if(!["image/jpeg","image/png"].includes(n.type))return;const s=new FileReader;s.readAsDataURL(n),s.onload=()=>{this.product_image=s.result,this._changeDetectorRef.markForCheck()},this.product_image_File=n}Submit(e){this._changeDetectorRef.markForCheck();const i=this.productForm.get("attribute_options_array");console.log("this.productForm. attribute_options_array",i),this.submitSinglProduct()}updateGroupValue(e,i){const r=this.productForm.get("attribute_options_array");r.at(i).patchValue({default:e.value}),!0===e.value&&r.controls.forEach((s,u)=>{u!==i&&s.get("default")?.patchValue(!1)})}submitSinglProduct(){this.productForm.disable();const e=this._addProductService.uploadImages(this.selectedImagesForProduct),i=this._addProductService.uploadProductImage(this.product_image_File);(0,O.D)([i,e]).pipe((0,R.w)(([n,s])=>{console.log("imageUrl_MainImage",n),console.log("imageUrls",s),this.productForm.get("product_image").setValue(n),this.productForm.get("product_images").setValue(s);const u={...this.productForm.value};return console.log("paylaod: ",u),this._addProductService.createProduct(u)})).pipe((0,_.sL)(this.destroyRef)).subscribe(n=>{console.log("formResponse",n),this.toast.fire({icon:"success",title:"Success Create Product"}),this.productForm.enable()},n=>{this.toast.fire({icon:"error",title:n?.message}),this.productForm.enable(),console.error("Error occurred:",n)})}selectRowItemFromAppProducts(e){if(console.log("event",e),e.itemId){if(e.isChecked&&"related_products"==e.tab&&(this.product_related_products.push(e.itemId),this.productForm.get("product_related_products").setValue(""),this.productForm.get("product_related_products").setValue(this.product_related_products)),e.isChecked&&"cross-sells"==e.tab&&(this.product_cross_sale.push(e.itemId),this.productForm.get("product_cross_sale").setValue(""),this.productForm.get("product_cross_sale").setValue(this.product_cross_sale)),!e.isChecked&&"cross-sells"==e.tab){const i=this.product_cross_sale.findIndex(r=>r===e.itemId);-1!==i&&this.product_cross_sale.splice(i,1),this.productForm.get("product_cross_sale").setValue(""),this.productForm.get("product_cross_sale").setValue(this.product_cross_sale)}if(!e.isChecked&&"related_products"==e.tab){const i=this.product_related_products.findIndex(r=>r===e.itemId);-1!==i&&this.product_related_products.splice(i,1),this.productForm.get("product_cross_sale").setValue(""),this.productForm.get("product_cross_sale").setValue(this.product_related_products)}}}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(t.sBO),t.Y36(B.R),t.Y36(a.QS),t.Y36(G.s),t.Y36(t.ktI),t.Y36(E.uw))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-product"]],viewQuery:function(i,r){if(1&i&&t.Gf(j,5),2&i){let n;t.iGM(n=t.CRH())&&(r.tabGroup=n.first)}},standalone:!0,features:[t.jDz],decls:36,vars:2,consts:[[1,"relative","inset-0","min-w-0","overflow-y-auto","p-0","w-full","bg-card","min-h-screen","max-h-max","rounded-md","mb-12","flex","flex-col"],[1,"w-full"],[1,"w-full","px-6","pt-5","pb-4","border-b"],[1,"text-3xl","font-bold"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"w-full",3,"formGroup"],["mat-stretch-tabs","true",1,"sm:px-2",3,"animationDuration"],["tabGroup",""],["label","General"],["matTabContent",""],["label","Price & Inventory"],["label","Images"],["label","SEO"],["label","Related products"],["label","Cross-sells"],[1,"flex-grow"],[1,"max-w-screen-xl","mx-auto","w-full","flex","flex-row","justify-between","sm:px-8","pb-8"],[1,""],["type","button","mat-stroked-button","",1,"rounded-md","bg-blue-500","px-4",3,"click"],[1,"flex","flex-row","gap-x-2"],["type","button","mat-stroked-button","",1,"rounded-md","bg-slate-500","px-4"],["type","button","mat-stroked-button","",1,"rounded-md","bg-primary","px-4",3,"click"],[1,"w-full","min-w-0","border","rounded-md","h-auto","px-12","py-5"],[1,"fuse-mat-no-subscript","w-full"],["matInput","","placeholder","product name",3,"formControlName"],[1,"font-semibold","text-default"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],["placeholder","Short Description",1,"mt-2","w-full",3,"ngClass","required","formControlName","bounds","modules"],["placeholder","Description",1,"mt-2","w-full",3,"ngClass","required","formControlName","bounds","modules"],["placeholder","Product Specification",1,"mt-2","w-full",3,"ngClass","required","formControlName","bounds","modules"],[1,"sm:col-span-2"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["multiple","",3,"formControlName"],[1,"sm:col-span-1","flex","flex-col","justify-end","items-end","min-w-70","min-h-50","max-w-70","max-h-max"],[1,"text-xl","font-semibold","my-2","text-default","text-start","block","w-full"],[1,"bg-default","flex","flex-col","justify-center","items-center","px-4","py-4","w-full","max-h-max"],["src","assets/images/image-upload.svg","alt","img alt","class","block min-w-70 min-h-40 max-w-70 max-h-40 object-contain",4,"ngIf"],["alt","img","srcset","","class","block min-w-70 min-h-40 max-w-70 max-h-40 object-contain",3,"src",4,"ngIf"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"disabled","multiple","accept","change"],["product_imageInput",""],["mat-flat-button","",1,"block","bg-[#FFF9C4]","text-black","my-3","px-4","py-2",3,"disabled","click"],[3,"value"],[1,"ml-3"],[4,"ngIf"],["src","assets/images/image-upload.svg","alt","img alt",1,"block","min-w-70","min-h-40","max-w-70","max-h-40","object-contain"],["alt","img","srcset","",1,"block","min-w-70","min-h-40","max-w-70","max-h-40","object-contain",3,"src"],[1,"w-full","min-w-0","border","rounded-md","h-auto","px-5","py-5","min-h-200"],[1,"w-full","flex","justify-center"],["aria-label","Select an product_type",3,"color","formControlName"],["value","single"],["value","variable"],["matInput","","placeholder","product price",3,"formControlName"],["matInput","","placeholder","product Special Price ",3,"formControlName"],[1,"w-full","grid","sm:grid-cols-2","mb-4"],[1,"col-span-2"],[3,"comparisonStart","comparisonEnd","rangePicker"],["matStartDate","","placeholder","Start date",3,"formControlName"],["matEndDate","","placeholder","End date",3,"formControlName"],["matIconSuffix","",3,"for"],["campaignOnePicker",""],["matInput","","placeholder","product quantity ",3,"formControlName"],["matInput","","placeholder","product  alert quantity ",3,"formControlName"],[1,"my-4","flex","flex-row","gap-x-4"],[1,"fuse-mat-no-subscript","w-3/4"],["name","Attribute",3,"placeholder","settings","data","ngModel","ngModelOptions","ngModelChange","onDeSelect","onSelectAll","onSelect","onDeSelectAll"],[1,"w-1/4"],[1,"example-margin",3,"ngModel","ngModelOptions","color","disableRipple","ngModelChange"],["mat-flat-button","",1,"bg-primary","px-4","rounded","text-white",3,"click"],[4,"ngFor","ngForOf"],["multiple","",3,"ngModel","ngModelOptions","ngModelChange"],[1,"w-full","mt-8"],[1,"relative"],[1,"w-full","table-auto","text-center","border","border-primary","border-separate","rounded-md"],[1,"text-base","uppercase","font-semibold"],[1,"border-1","dark"],[1,"px-2","py-4"],["class","px-2",4,"ngFor","ngForOf"],[1,"px-2"],["formArrayName","attribute_options_array"],["class","border-2 bg-slate-800 text-lg text-white",4,"ngFor","ngForOf"],[1,"border-2","bg-slate-800","text-lg","text-white"],[3,"formGroupName"],[1,"text-white","px-2"],[3,"color","formControlName","change"],[1,"radio-group-option",3,"color","value"],["class","px-4",4,"ngFor","ngForOf"],[1,"max-w-50","border-2","border-primary","rounded"],["placeholder","Price","type","number","matInput","",1,"w-full","h-12","px-2","text-white","text-center",3,"formControlName"],["placeholder","Discount Price","type","number","matInput","",1,"w-full","h-12","px-2","text-white",3,"formControlName"],["placeholder","CURRENT STOCK","type","number","matInput","",1,"w-full","h-12","px-2","text-white",3,"formControlName"],["placeholder","alert Stock","type","number","matInput","",1,"w-full","h-12","px-2","text-white",3,"formControlName"],["mat-icon-button","",3,"click"],["svgIcon","mat_solid:delete",1,"icon-size-5","text-white"],[1,"px-4"],[1,"w-full","min-w-0","border","rounded-md","h-auto","px-12","py-5","min-h-full"],["id","avatar-file-input","type","file","multiple","",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"accept","change"],["imges","","avatarFileInput",""],[1,"w-full","flex","flex-row","justify-around"],["mat-flat-button","","type","button",1,"block","bg-[#FFF9C4]","text-black","my-3","px-4","py-2",3,"click"],["src","assets/images/image-upload.svg","alt","img","srcset","",1,"block","min-w-70","min-h-50","max-w-70","max-h-50","object-fill"],[1,"bg-default","min-w-70","min-h-50","w-full","flex","flex-row","flex-wrap"],["class","relative p-3 mx-2 my-1 border rounded bg-card",4,"ngFor","ngForOf"],[1,"relative","p-3","mx-2","my-1","border","rounded","bg-card"],["mat-icon-button","",1,"absolute","inset-0",3,"click"],[1,"text-red-500",3,"svgIcon"],["mat-icon-button","",1,"absolute","bottom-1","right-0",3,"click"],["svgIcon","mat_outline:fullscreen",1,"text-primary"],[1,"h-30","w-30","m-2","object-contain",3,"src","alt"],["matInput","","placeholder","Product URL",3,"formControlName"],["matInput","","placeholder","Meta Title",3,"formControlName"],["matInput","","placeholder","Meta Description","cdkTextareaAutosize","",3,"formControlName","cdkAutosizeMinRows"],[1,"w-full","min-w-0","border","rounded-md","h-auto","px-12","py-10","bg-default"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4,"Create Product"),t.qZA()()(),t.TgZ(5,"div",1)(6,"div",1)(7,"div",4)(8,"form",5)(9,"mat-tab-group",6,7)(11,"mat-tab",8),t.YNc(12,et,64,46,"ng-template",9),t.qZA(),t.TgZ(13,"mat-tab",10),t.YNc(14,ft,9,4,"ng-template",9),t.qZA(),t.TgZ(15,"mat-tab",11),t.YNc(16,At,9,4,"ng-template",9),t.qZA(),t.TgZ(17,"mat-tab",12),t.YNc(18,Ct,19,7,"ng-template",9),t.qZA(),t.TgZ(19,"mat-tab",13),t.YNc(20,vt,1,0,"ng-template",9),t.qZA(),t.TgZ(21,"mat-tab",14),t.YNc(22,Zt,1,0,"ng-template",9),t.qZA()()()()()(),t._UZ(23,"div",15),t.ynx(24),t.TgZ(25,"div",16)(26,"div",17)(27,"button",18),t.NdJ("click",function(){return r.goToPreviousTab()}),t._uU(28," Previous "),t.qZA()(),t.TgZ(29,"div",19)(30,"button",18),t.NdJ("click",function(){return r.goToNextTab()}),t._uU(31," Next "),t.qZA(),t.TgZ(32,"button",20),t._uU(33," Save as Drift "),t.qZA(),t.TgZ(34,"button",21),t.NdJ("click",function(){return r.Submit("live")}),t._uU(35," make it Live "),t.qZA()()(),t.BQk(),t.qZA()),2&i&&(t.xp6(8),t.Q6J("formGroup",r.productForm),t.xp6(1),t.Q6J("animationDuration","0"))},dependencies:[k.Ps,k.Hw,v.ot,v.lW,v.RK,C.si,h.Nh,h.Vc,h.uX,h.SP,S.vV,P.Z,P.O,A.ax,Z.Fk,Z.VQ,Z.U0,A.O5,w.p0,A.mk,a.u5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.On,a.UX,a.sg,a.u,a.x0,a.CE,g.lN,g.KE,g.hX,g.bx,g.R9,q.c,q.Nt,K.IC,N.AV,I.LD,I.gD,C.ey,C.Ng,Q.Cq,J.g6,m.FA,m.nW,m.wx,m.zY,m.By,m._g,T.p9,T.oG],changeDetection:0})}return o})()}]}}]);
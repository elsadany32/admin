"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[1531],{1531:(N,x,o)=>{o.r(x),o.d(x,{default:()=>Gt});var d=o(6814),C=o(1476),m=o(5313),u=o(617),g=o(2296),G=o(4553),y=o(4516),i=o(6223),Z=o(8525),w=o(836),h=o(9397),I=o(2572),U=o(3997),A=o(7921),f=o(4664),v=o(6306),b=o(2181),D=o(2096),Q=o(6232),L=o(3519),J=o.n(L),R=o(2948),p=o(1993),E=o(7070),Y=o(4451),S=o.n(Y),j=o(5742),O=o(53),M=o(9862),t=o(5879),k=o(6278),P=o(2787),B=o(2695),T=o(1043),F=o(3680);function z(e,r){if(1&e&&(t.TgZ(0,"mat-option",17)(1,"span",18),t._uU(2),t.qZA()()),2&e){const n=r.$implicit;t.Q6J("value",n.value),t.xp6(2),t.Oqu(n.name)}}function H(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","S.No"," "))}function $(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"span",36),t._uU(2),t.qZA()()),2&e){const n=r.index,s=t.oxw(3);t.xp6(2),t.hij(" ",n+1+s.pageIndex*s.pageSize," ")}}function K(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Image"," "))}function W(e,r){if(1&e&&t._UZ(0,"img",41),2&e){const n=t.oxw().$implicit;t.Q6J("alt","Product thumbnail image")("src",null==n?null:n.card_logo,t.LSH)}}function q(e,r){1&e&&(t.TgZ(0,"div",42),t._uU(1," NO THUMB "),t.qZA())}function X(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"div",37)(2,"div",38),t.YNc(3,W,1,2,"img",39),t.YNc(4,q,2,0,"div",40),t.qZA()()()),2&e){const n=r.$implicit;t.xp6(3),t.Q6J("ngIf",""!==(null==n?null:n.card_logo)),t.xp6(1),t.Q6J("ngIf",""===(null==n?null:n.card_logo))}}function V(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Gift Card Name"," "))}function tt(e,r){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",n.card_name," ")}}function et(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Status"," "))}function nt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.changeStatus(a))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","active"," "))}function it(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.changeStatus(a))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","inActive"," "))}function ot(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"div",44),t.YNc(2,nt,2,1,"span",45),t.YNc(3,it,2,1,"span",46),t.qZA()()),2&e){const n=r.$implicit;t.xp6(2),t.Q6J("ngIf","active"===n.status),t.xp6(1),t.Q6J("ngIf","inActive"===n.status)}}function at(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","priority"," "))}function st(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",51),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.change_most_is_features(a))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","Hight"," "))}function rt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.change_most_is_features(a))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","Normal"," "))}function ct(e,r){if(1&e&&(t.TgZ(0,"td",35),t.ynx(1),t.TgZ(2,"div",44),t.YNc(3,st,2,1,"span",49),t.YNc(4,rt,2,1,"span",50),t.qZA(),t.BQk(),t.qZA()),2&e){const n=r.$implicit;t.xp6(3),t.Q6J("ngIf",n.is_features),t.xp6(1),t.Q6J("ngIf",!n.is_features)}}function lt(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","createdAt"," "))}function mt(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"span",53),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const n=r.$implicit;t.xp6(2),t.hij(" ",t.Dn7(3,1,n.createdAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function ut(e,r){1&e&&(t.TgZ(0,"th",54),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Action"," "))}function dt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",35)(1,"button",55),t.NdJ("click",function(){const c=t.CHM(n).$implicit,l=t.oxw(3);return t.KtG(l.deleteCustomGiftCard(c._id))}),t._UZ(2,"mat-icon",56),t.qZA(),t.TgZ(3,"button",55),t.NdJ("click",function(){const c=t.CHM(n).$implicit,l=t.oxw(3);return t.KtG(l.editCustomGiftCard(c))}),t._UZ(4,"mat-icon",57),t.qZA(),t.TgZ(5,"button",55),t.NdJ("click",function(){const c=t.CHM(n).$implicit,l=t.oxw(3);return t.KtG(l.AddTranslated(c))}),t._UZ(6,"mat-icon",58),t.qZA()()}2&e&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:pencil-square"))}function ft(e,r){1&e&&t._UZ(0,"tr",59)}function pt(e,r){1&e&&t._UZ(0,"tr",60)}function _t(e,r){if(1&e&&(t.TgZ(0,"table",20),t.ynx(1,21),t.YNc(2,H,2,1,"th",22),t.YNc(3,$,3,1,"td",23),t.BQk(),t.ynx(4,24),t.YNc(5,K,2,1,"th",22),t.YNc(6,X,5,2,"td",23),t.BQk(),t.ynx(7,25),t.YNc(8,V,2,1,"th",22),t.YNc(9,tt,2,1,"td",26),t.BQk(),t.ynx(10,27),t.YNc(11,et,2,1,"th",22),t.YNc(12,ot,4,2,"td",23),t.BQk(),t.ynx(13,28),t.YNc(14,at,2,1,"th",22),t.YNc(15,ct,5,2,"td",23),t.BQk(),t.ynx(16,29),t.YNc(17,lt,2,1,"th",22),t.YNc(18,mt,4,5,"td",23),t.BQk(),t.ynx(19,30),t.YNc(20,ut,2,1,"th",31),t.YNc(21,dt,7,2,"td",23),t.BQk(),t.YNc(22,ft,1,0,"tr",32),t.YNc(23,pt,1,0,"tr",33),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("dataSource",n.CustomGiftCards),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function Ct(e,r){if(1&e&&(t.ynx(0),t.YNc(1,_t,24,3,"table",19),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isLoading)}}function gt(e,r){if(1&e&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",61),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("skeltonType",n.skletonTable)}}function ht(e,r){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",62),t.BQk()),2&e&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const xt=function(e,r){return{"pointer-events-none":e,hidden:r}},vt=function(){return[10,20,50,100]},Gt=[{path:"",component:(()=>{class e{constructor(n,s,a,c){this._fuseConfirmationService=n,this.RouterService=s,this.destroyRef=a,this._CustomGiftCardService=c,this.pageIndex=0,this.pageSize=10,this.total_recoreds=0,this.status="",this.CustomGiftCards=[],this.LangStatus=[{value:"",name:"All Status"},{value:"active",name:"Active"},{value:"inActive",name:"inActive"}],this.skletonTable=R.q.TABLE,this.toast=J().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.isLoading=!0,this.searchInputControl=new i.p4(""),this.statusInputControl=new i.p4(""),this.displayedColumns=["S_No","Image","gift_name","Status","priority","Created","action"]}ngOnInit(){this._CustomGiftCardService.CustomGiftCard$.pipe((0,p.sL)(this.destroyRef),(0,w.T)(1),(0,h.b)(n=>{console.log("loading data !",n),this.CustomGiftCards=n,this.isLoading=!1})).subscribe(),(0,I.a)([this._CustomGiftCardService.pagination$.pipe((0,h.b)(n=>{this.pageIndex=n.pageIndex,this.pageSize=n.pageSize}),(0,U.x)((n,s)=>n.pageIndex===s.pageIndex&&n.pageSize===s.pageSize)),this.searchInputControl.valueChanges.pipe((0,A.O)("")),this.statusInputControl.valueChanges.pipe((0,A.O)(""))]).pipe((0,p.sL)(this.destroyRef),(0,f.w)(([n,s,a])=>this._CustomGiftCardService.getCustomGiftCardS(n?.pageIndex,n?.pageSize,s,a)),(0,v.K)(n=>(this.isLoading=!1,n))).subscribe(),this._CustomGiftCardService.pagination$.pipe((0,p.sL)(this.destroyRef),(0,h.b)(n=>{this._paginator.length=n.length,this.total_recoreds=n.length,this._paginator.pageIndex=n.pageIndex,this._paginator.pageSize=n.pageSize})).subscribe()}pageChange(n){this._CustomGiftCardService.updatePagination$(n)}deleteCustomGiftCard(n){this._fuseConfirmationService.open({title:"Delete Custom Gift Card",message:"Are you sure you want to remove this item? This action cannot be undone!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,b.h)(a=>"confirmed"===a),(0,p.sL)(this.destroyRef),(0,f.w)(()=>this._CustomGiftCardService.deleteCustomGiftCard(n)),(0,h.b)(()=>{this.toast.fire({icon:"success",title:"Successfully deleted Custom Gift Card"})}),(0,f.w)(()=>this._CustomGiftCardService.getCustomGiftCardS())).subscribe()}addCustomGiftCard(){this.RouterService.navigate(["products/custom-gift-card/add-custom-gift-card"])}editCustomGiftCard(n){this.RouterService.navigate(["products/custom-gift-card/add-custom-gift-card"],{queryParams:{mode_action:"edit",id:n._id}})}AddTranslated(n){this.RouterService.navigate(["products/custom-gift-card/add-custom-gift-card"],{queryParams:{mode_action:"transate",id:n._id}})}changeStatus(n){const s=S()(n);let a=E.Qd;s.status=s.status===a.active?a.inActive:a.active,console.log("after changeis_featured",n.is_featured),this._fuseConfirmationService.open({title:"Update Status",message:"Are you sure you want to change  status?!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Update Status",color:"primary"}}}).afterClosed().pipe((0,b.h)(l=>"confirmed"===l),(0,p.sL)(this.destroyRef),(0,f.w)(()=>this._CustomGiftCardService.UpdateCustomGiftCard(s,s._id).pipe((0,v.K)(l=>l))),(0,v.K)(l=>(this.toast.fire({icon:"warning",title:"warning something !"}),l)),(0,h.b)(()=>{this.toast.fire({icon:"success",title:"Successfully updated"}),this.isLoading=!0}),(0,f.w)(()=>this._CustomGiftCardService.getCustomGiftCardS())).subscribe({})}change_most_is_features(n){let s=S()(n);s.is_features=!s.is_features;const{is_features:a}=s,c={is_features:a};this._fuseConfirmationService.open({title:"Update priority Status",message:"Are you sure you want to change  priority ?",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Update Priority",color:"primary"}}}).afterClosed().pipe((0,b.h)(_=>"confirmed"===_),(0,p.sL)(this.destroyRef),(0,f.w)(()=>this._CustomGiftCardService.UpdateCustomGiftCard(c,s._id).pipe((0,v.K)(_=>(this.toast.fire({icon:"warning",title:_.error?.message}),(0,D.of)(_))))),(0,f.w)(_=>_ instanceof M.UA?Q.E:(this.toast.fire({icon:"success",title:"Successfully Update priority"}),this._CustomGiftCardService.getCustomGiftCardS()))).subscribe({})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(k.R),t.Y36(P.F0),t.Y36(t.ktI),t.Y36(B.h))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-custom-gift-card"]],viewQuery:function(s,a){if(1&s&&t.Gf(C.NW,7),2&s){let c;t.iGM(c=t.CRH())&&(a._paginator=c.first)}},standalone:!0,features:[t.jDz],decls:26,vars:17,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-accent","text-on-accent",3,"click"],[1,"relative","flex","flex-row","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-8","border-b","w-full"],[1,"flex","w-full","flex-row","sm:flex-row","gap-x-8"],[1,"fuse-mat-dense","w-40"],["placeholder","select status",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"fuse-mat-dense","w-100"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","search ...",3,"formControl","autocomplete"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],[3,"value"],[1,"ml-3"],["mat-table","","class","custom-table",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Image"],["matColumnDef","gift_name"],["mat-cell","","class","",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","priority"],["matColumnDef","Created"],["matColumnDef","action"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],[1,"w-full","my-1"],[1,"relative","flex","flex-0","items-center","justify-center","w-12","h-12","rounded","overflow-hidden"],["class","w-12",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"w-12",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["mat-cell","",1,""],[1,"text-center","flex","flex-row","justify-center","items-center","w-full"],["mat-ripple","","class","active-btn",3,"click",4,"ngIf"],["mat-ripple","","class","inactive-btn",3,"click",4,"ngIf"],["mat-ripple","",1,"active-btn",3,"click"],["mat-ripple","",1,"inactive-btn",3,"click"],["class","active-btn",3,"click",4,"ngIf"],["class","inactive-btn",3,"click",4,"ngIf"],[1,"active-btn",3,"click"],[1,"inactive-btn",3,"click"],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-800",3,"svgIcon"],["svgIcon","mat_solid:g_translate",1,"icon-size-5"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return a.addCustomGiftCard()}),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t._uU(11,"Select Status"),t.qZA(),t.TgZ(12,"mat-select",8),t.YNc(13,z,3,2,"mat-option",9),t.qZA()(),t.TgZ(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"Search"),t.qZA(),t._UZ(17,"mat-icon",11)(18,"input",12),t.qZA()()(),t.TgZ(19,"div",13)(20,"div",14),t.YNc(21,Ct,2,1,"ng-container",15),t.YNc(22,gt,2,1,"ng-container",15),t.ynx(23),t.TgZ(24,"mat-paginator",16),t.NdJ("page",function(l){return a.pageChange(l)}),t.qZA(),t.BQk(),t.YNc(25,ht,2,2,"ng-container",15),t.qZA()()()()),2&s&&(t.xp6(4),t.hij(" Total Records : ",a.total_recoreds," "),t.xp6(2),t.hij(" ","Add New Custom GiftCard"," "),t.xp6(6),t.Q6J("formControl",a.statusInputControl),t.xp6(1),t.Q6J("ngForOf",a.LangStatus),t.xp6(4),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",a.searchInputControl)("autocomplete","off"),t.xp6(3),t.Q6J("ngIf",a.CustomGiftCards.length),t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(13,xt,a.isLoading,!a.CustomGiftCards.length))("pageSizeOptions",t.DdM(16,vt))("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!a.CustomGiftCards.length&&!a.isLoading))},dependencies:[d.O5,d.mk,d.uU,d.ax,C.TU,C.NW,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,u.Ps,u.Hw,g.ot,g.lW,g.RK,G.W,y.c,y.Nt,T.KE,T.hX,T.qo,i.UX,i.Fj,i.JJ,i.oH,Z.LD,Z.gD,F.ey,O.vi,j.s],styles:["app-custom-gift-card[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]})}return e})()}]},7070:(N,x,o)=>{o.d(x,{Qd:()=>d});var d=function(i){return i.active="active",i.inActive="inActive",i}(d||{})}}]);
"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8065],{8065:(ht,h,i)=>{i.r(h),i.d(h,{default:()=>ft});var r=i(6814),m=i(6223),x=i(2296),Z=i(3680),p=i(7700),C=i(617),T=i(4516),d=i(1476),b=i(8525),s=i(5313),A=i(2596),y=i(5742),S=i(4553),N=i(53),I=i(2948),Q=i(8645),_=i(9773),U=i(836),g=i(9397),D=i(2572),v=i(3997),Y=i(7921),w=i(4664),j=i(6306),z=i(2096),t=i(5879),J=i(171),B=i(2787),u=i(1043);const L=["dialogTemplate"];function $(e,l){1&e&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","S.No"," "))}function R(e,l){if(1&e&&(t.TgZ(0,"td",33)(1,"span",34),t._uU(2),t.qZA()()),2&e){const n=l.index,a=t.oxw(3);t.xp6(2),t.hij(" ",n+1+a.pageIndex*a.pageSize," ")}}function M(e,l){1&e&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","To"," "))}function O(e,l){if(1&e&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&e){const n=l.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.to," ")}}function E(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","From"," "))}function H(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=l.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.from," ")}}function W(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Email"," "))}function k(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=l.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.email," ")}}function F(e,l){1&e&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","MESSAGE"," "))}function G(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw(3),f=t.MAs(20);return t.KtG(c.openDialogWithTemplateRef(f,null==o?null:o.message))}),t._uU(1),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("matTooltip","Click To Show  message"),t.xp6(1),t.hij(" ",null==n?null:n.message," ")}}function X(e,l){if(1&e&&(t.TgZ(0,"div",41),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==n?null:n.message," ")}}function P(e,l){if(1&e&&(t.TgZ(0,"td",37),t.YNc(1,G,2,2,"div",38),t.YNc(2,X,2,1,"ng-template",null,39,t.W1O),t.qZA()),2&e){const n=l.$implicit,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",(null==n||null==n.message?null:n.message.length)>30)("ngIfElse",a)}}function q(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Image"," "))}function K(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=l.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.image," ")}}function V(e,l){1&e&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Schedule Timezone"," "))}function tt(e,l){if(1&e&&(t.TgZ(0,"td",33)(1,"span",42),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const n=l.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,n.schedule_timezone,"dd/MM/yyyy, hh:mm a")," ")}}function et(e,l){1&e&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Is Sent "," "))}function nt(e,l){1&e&&(t.ynx(0),t.TgZ(1,"span",43),t._uU(2),t.qZA(),t.BQk()),2&e&&(t.xp6(2),t.hij(" ","NO",""))}function lt(e,l){1&e&&(t.ynx(0),t.TgZ(1,"span",44),t._uU(2),t.qZA(),t.BQk()),2&e&&(t.xp6(2),t.hij(" ","YES",""))}function at(e,l){if(1&e&&(t.TgZ(0,"td",33),t.YNc(1,nt,3,1,"ng-container",11),t.YNc(2,lt,3,1,"ng-container",11),t.qZA()),2&e){const n=l.$implicit;t.xp6(1),t.Q6J("ngIf",!(null!=n&&n.is_sent)),t.xp6(1),t.Q6J("ngIf",null==n?null:n.is_sent)}}function it(e,l){1&e&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Create Date"," "))}function ot(e,l){if(1&e&&(t.TgZ(0,"td",33)(1,"span",42),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const n=l.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,n.createdAt,"dd/MM/yyyy, hh:mm a")," ")}}function st(e,l){1&e&&t._UZ(0,"tr",45)}const ct=function(e,l){return[e,l]};function mt(e,l){if(1&e&&t._UZ(0,"tr",46),2&e){const n=l.$implicit,a=t.oxw(3);t.Q6J("routerLink",t.WLB(1,ct,n.id,a.activeTableId))}}function rt(e,l){if(1&e&&(t.TgZ(0,"table",15),t.ynx(1,16),t.YNc(2,$,2,1,"th",17),t.YNc(3,R,3,1,"td",18),t.BQk(),t.ynx(4,19),t.YNc(5,M,2,1,"th",17),t.YNc(6,O,2,1,"td",18),t.BQk(),t.ynx(7,20),t.YNc(8,E,2,1,"th",21),t.YNc(9,H,2,1,"td",22),t.BQk(),t.ynx(10,23),t.YNc(11,W,2,1,"th",21),t.YNc(12,k,2,1,"td",22),t.BQk(),t.ynx(13,24),t.YNc(14,F,2,1,"th",17),t.YNc(15,P,4,2,"td",25),t.BQk(),t.ynx(16,26),t.YNc(17,q,2,1,"th",21),t.YNc(18,K,2,1,"td",22),t.BQk(),t.ynx(19,27),t.YNc(20,V,2,1,"th",17),t.YNc(21,tt,4,4,"td",18),t.BQk(),t.ynx(22,28),t.YNc(23,et,2,1,"th",17),t.YNc(24,at,3,2,"td",18),t.BQk(),t.ynx(25,29),t.YNc(26,it,2,1,"th",17),t.YNc(27,ot,4,4,"td",18),t.BQk(),t.YNc(28,st,1,0,"tr",30),t.YNc(29,mt,1,4,"tr",31),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("dataSource",n.data),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function pt(e,l){if(1&e&&(t.ynx(0),t.YNc(1,rt,30,3,"table",14),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isLoading)}}function dt(e,l){if(1&e&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",47),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("skeltonType",n.skletonTable)}}function _t(e,l){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",48),t.BQk()),2&e&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}function gt(e,l){if(1&e&&(t.TgZ(0,"h2",49),t._uU(1),t.qZA(),t._UZ(2,"div",50),t.TgZ(3,"div",51)(4,"button",52),t._uU(5,"Cancel"),t.qZA()()),2&e){const n=l.$implicit;t.xp6(1),t.Oqu("View category message"),t.xp6(1),t.Q6J("innerHTML",n.description,t.oJD)}}const ut=function(e,l){return{"pointer-events-none":e,hidden:l}},ft=[{path:"",component:(()=>{class e{constructor(n,a,o){this._CardDesignerService=n,this.matDialogRef=a,this._router=o,this._unsubscribeAll=new Q.x,this.searchInputControl=new m.p4(""),this.total_recoreds=0,this.pageIndex=0,this.pageSize=10,this.pageSizeOptions=[10,20,50,100],this.data=[],this.isLoading=!0,this.skletonTable=I.q.TABLE,this.displayedColumns=["S_No","to","from","email","image","message","schedule_timezone","is_sent","Create_date"]}ngOnInit(){this._CardDesignerService.updatePagination$({pageIndex:0,pageSize:10,length:0}),this._CardDesignerService.cards_for_user$.pipe((0,_.R)(this._unsubscribeAll),(0,U.T)(1),(0,g.b)(a=>{console.log("loading data !",a),this.data=a,this.isLoading=!1})).subscribe(),(0,D.a)([this._CardDesignerService.pagination$.pipe((0,g.b)(a=>{console.log("data pagination$ !",a),this.pageIndex=a.pageIndex,this.pageSize=a.pageSize}),(0,v.x)((a,o)=>a.pageIndex===o.pageIndex&&a.pageSize===o.pageSize)),this.searchInputControl.valueChanges.pipe((0,Y.O)(""),(0,v.x)())]).pipe((0,_.R)(this._unsubscribeAll),(0,w.w)(([a,o])=>this._CardDesignerService.get_cards_for_user(a?.pageIndex,a?.pageSize,o)),(0,j.K)(a=>(this.isLoading=!1,(0,z.of)(a)))).subscribe(),this._CardDesignerService.pagination$.pipe((0,_.R)(this._unsubscribeAll),(0,g.b)(a=>{this._paginator.length=a.length,this.total_recoreds=a.length,this._paginator.pageIndex=a.pageIndex,this._paginator.pageSize=a.pageSize})).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}pageChange(n){this._CardDesignerService.updatePagination$(n)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(J.X),t.Y36(p.uw),t.Y36(B.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-all-cards"]],viewQuery:function(a,o){if(1&a&&(t.Gf(d.NW,7),t.Gf(L,7)),2&a){let c;t.iGM(c=t.CRH())&&(o._paginator=c.first),t.iGM(c=t.CRH())&&(o.dialogTemplate=c.first)}},standalone:!0,features:[t.jDz],decls:21,vars:14,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","min-w-max","mx-auto"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-2","px-6","md:px-8","border-b"],[1,"flex","w-full","flex-col","sm:flex-row","sm:items-end","sm:justify-between","gap-x-4"],[1,"w-full","md:w-1/2"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","search ...",3,"formControl","autocomplete"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max","max-w-full"],[4,"ngIf"],[1,"border-t","rounded-b-lg",3,"ngClass","pageSize","pageSizeOptions","showFirstLastButtons","page"],["descriptionTemplate",""],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","to"],["matColumnDef","from"],["class","hidden sm:table-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","hidden sm:table-cell","mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","message"],["mat-cell","","class","text-center max-w-50",4,"matCellDef"],["matColumnDef","image"],["matColumnDef","schedule_timezone"],["matColumnDef","is_sent"],["matColumnDef","Create_date"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],["mat-header-cell","",1,"hidden","sm:table-cell"],["mat-cell","",1,"hidden","sm:table-cell"],["mat-cell","",1,"text-center","max-w-50"],["class","px-4 text-center truncate max-w-50 mx-auto",3,"matTooltip","click",4,"ngIf","ngIfElse"],["full_text",""],[1,"px-4","text-center","truncate","max-w-50","mx-auto",3,"matTooltip","click"],[1,"px-4","text-center"],[1,"pr-6","whitespace-nowrap"],[1,"px-2","bg-warn-700","py-1","rounded"],[1,"px-2","bg-green-500","py-1","rounded"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer",3,"routerLink"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"],[1,"my-2","text-xl","font-semibold"],[3,"innerHTML"],[1,"w-full","flex","justify-end","px-4","mt-4","border-t"],["mat-button","","matDialogClose","",1,"mt-2"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Search"),t.qZA(),t._UZ(10,"mat-icon",7)(11,"input",8),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",10),t.YNc(14,pt,2,1,"ng-container",11),t.YNc(15,dt,2,1,"ng-container",11),t.ynx(16),t.TgZ(17,"mat-paginator",12),t.NdJ("page",function(f){return o.pageChange(f)}),t.qZA(),t.BQk(),t.YNc(18,_t,2,2,"ng-container",11),t.qZA()()()(),t.YNc(19,gt,6,2,"ng-template",null,13,t.W1O)),2&a&&(t.xp6(4),t.hij(" Total Records : ",o.total_recoreds," "),t.xp6(6),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",o.searchInputControl)("autocomplete","true"),t.xp6(3),t.Q6J("ngIf",o.data.length),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(11,ut,o.isLoading,!o.data.length))("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions)("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!o.data.length&&!o.isLoading))},dependencies:[r.O5,r.mk,r.uU,d.TU,d.NW,s.p0,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,C.Ps,C.Hw,x.ot,x.lW,S.W,T.c,T.Nt,u.KE,u.hX,u.qo,m.UX,m.Fj,m.JJ,m.oH,b.LD,Z.si,p.Is,p.ZT,N.vi,y.s,A.AV,A.gM]})}return e})()}]}}]);
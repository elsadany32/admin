"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[7343],{7343:(j,c,t)=>{t.r(c),t.d(c,{default:()=>Y});var l=t(6814),b=t(8645),a=t(9773),v=t(9397),r=t(6223),x=t(3519),y=t.n(x),C=t(3963),f=t(5940),g=t(4516),_=t(617),p=t(2296),u=t(1043),h=t(8525),I=t(7536),A=t.n(I),T=t(9503),e=t(5879),G=t(5990),Z=t(2787),F=t(8699),Q=t(3680);function N(i,d){1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i&&(e.xp6(1),e.hij(" ","Add New Guide Item "," "))}function q(i,d){1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i&&(e.xp6(1),e.hij(" ","Edit Guide Item "," "))}function J(i,d){1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i&&(e.xp6(1),e.hij(" ","Translation Guide Item "," "))}function k(i,d){if(1&i&&(e.TgZ(0,"mat-option",21)(1,"span",22),e._uU(2),e.qZA()()),2&i){const o=d.$implicit;e.Q6J("value",o.lang_code),e.xp6(2),e.Oqu(o.language_name)}}function U(i,d){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"mat-form-field",8)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"mat-select",19),e.YNc(6,k,3,2,"mat-option",20),e.qZA()()(),e.BQk()),2&i){const o=e.oxw();e.xp6(4),e.Oqu("languages "),e.xp6(1),e.Q6J("formControlName","lang_code"),e.xp6(1),e.Q6J("ngForOf",o.languages)}}function O(i,d){1&i&&e._UZ(0,"mat-progress-spinner",23),2&i&&e.Q6J("diameter",24)("mode","indeterminate")}const S=function(i){return{"border rounded border-warn":i}};A().register("modules/blotFormatter",T.default);const Y=[{path:"",component:(()=>{class i{constructor(o,n,s,m){this.GuidesService=o,this._formBuilder=n,this._router=s,this.LangTransatedService=m,this.category_id="",this.item_id="",this.translation=!1,this.mode_item="add",this.languages=[],this.quillModules={history:{delay:1e3,maxStack:50,userOnly:!1},toolbar:[[{color:["#000000","#eab308","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"]}],[{background:["#000000","#eab308","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"]}],["blockquote","code-block"],["bold","italic","underline","strike"],["code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{align:[]},{list:"ordered"},{list:"bullet"}],["clean"],["link","image","video"]],blotFormatter:{}},this._unsubscribeAll=new b.x,this.toast=y().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:6e3})}ngOnInit(){this.translation&&(this.mode_item="translation",this.LangTransatedService.getLanguages().pipe((0,a.R)(this._unsubscribeAll)).subscribe({next:o=>{this.languages=o}}),this.guide_Form=this._formBuilder.group({guide_id:[this.item_id,[r.kI.required]],guide_title:["",[r.kI.required]],guide_description:["",[r.kI.required]],auther:["",[r.kI.required]],lang_code:["",[r.kI.required]]})),this.item_id&&!this.translation&&(this.mode_item="edit"),this.item_id&&this.GuidesService.guide_by_id(this.item_id).pipe((0,a.R)(this._unsubscribeAll),(0,v.b)(o=>{})).subscribe({next:o=>{console.log("data",o),this.guide_Form.patchValue(o)}}),this.translation||(this.guide_Form=this._formBuilder.group({category_id:[this.category_id,[r.kI.required]],guide_title:["",[r.kI.required]],guide_description:["",[r.kI.required]],auther:["",[r.kI.required]],status:["active"]}))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}isEditorContentInvalid(o){const n=this.guide_Form.get(o);return n.invalid&&(n.dirty||n.touched)}submit_Item(){if(this.guide_Form.invalid)return;this.guide_Form.disable();let o=this.guide_Form.value;console.log("payload",o),"add"!=this.mode_item?"edit"!=this.mode_item?"translation"!=this.mode_item||this.GuidesService.guide_item_translate(o).pipe((0,a.R)(this._unsubscribeAll)).subscribe({next:n=>{this.toast.fire({icon:"success",title:"Success translation Guide Item"}),this.guide_Form.enable(),this.mode_item="add",this.back()},error:n=>{this.toast.fire({icon:"error",title:n.error?.message}),this.guide_Form.enable()}}):this.GuidesService.update_guide_item(o,this.item_id).pipe((0,a.R)(this._unsubscribeAll)).subscribe({next:n=>{this.toast.fire({icon:"success",title:"Success Update Guide Item"}),this.guide_Form.enable(),this.mode_item="add",this.back()},error:n=>{this.toast.fire({icon:"error",title:n.error?.message}),this.guide_Form.enable()}}):this.GuidesService.create_guide_item(o).pipe((0,a.R)(this._unsubscribeAll)).subscribe({next:n=>{this.toast.fire({icon:"success",title:"Success Add New Guide Item"}),this.guide_Form.enable(),this.back()},error:n=>{this.toast.fire({icon:"error",title:n.error?.message}),this.guide_Form.enable()}})}back(){this._router.navigate([`help-center/guides/guide-item/${this.category_id}`])}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(G.Q),e.Y36(r.QS),e.Y36(Z.F0),e.Y36(F.A))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-guide-add-item-to-category"]],inputs:{category_id:"category_id",item_id:"item_id",translation:"translation"},standalone:!0,features:[e.jDz],decls:34,vars:21,consts:[[1,"relative","inset-0","min-w-0","max-h-max","p-0","w-full","bg-card","min-h-screen","rounded-md","mb-12","mx-8","my-4"],[1,"w-full","pt-6","px-8"],[1,"text-xl","md:text-2xl","font-bold","tracking-tight","leading-7","sm:leading-10","truncate"],[4,"ngIf"],[1,"w-full","px-8"],[1,"w-full","border-t","col-span-2","py-4"],[1,"grid","sm:grid-cols-2","gap-6","w-full","mt-4","border-b","mb-4","pb-4",3,"formGroup"],[1,"sm:col-span-2"],[1,"w-full"],["placeholder","Guide title","matInput","",3,"formControlName"],["placeholder","auther","matInput","",3,"formControlName"],[1,"h-full"],[1,"font-semibold","text-default"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],["placeholder","Guide description",1,"mt-2",3,"ngClass","required","formControlName","bounds","modules"],[1,"w-full","flex","items-center","justify-center","sm:justify-end","px-2","pt-4","space-x-3","col-span-2","pb-8"],["mat-stroked-button","","type","button",3,"click"],["mat-flat-button","","type","button","color","primary",1,"px-8",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ml-3"],[3,"diameter","mode"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),e.YNc(4,N,2,1,"ng-container",3),e.YNc(5,q,2,1,"ng-container",3),e.YNc(6,J,2,1,"ng-container",3),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"form",6)(10,"div",7)(11,"div",8)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14),e.qZA(),e._UZ(15,"input",9),e.qZA()(),e.YNc(16,U,7,3,"ng-container",3),e.TgZ(17,"div",8)(18,"mat-form-field",8)(19,"mat-label"),e._uU(20),e.qZA(),e._UZ(21,"input",10),e.qZA()(),e.ynx(22),e.TgZ(23,"div",11)(24,"mat-label",12),e._uU(25),e.qZA(),e._UZ(26,"span",13)(27,"quill-editor",14),e.qZA(),e.BQk(),e.qZA()()(),e.TgZ(28,"div",15)(29,"button",16),e.NdJ("click",function(){return s.back()}),e._uU(30),e.qZA(),e.TgZ(31,"button",17),e.NdJ("click",function(){return s.submit_Item()}),e.YNc(32,O,1,2,"mat-progress-spinner",18),e._uU(33),e.qZA()()()()),2&n&&(e.xp6(4),e.Q6J("ngIf","add"==s.mode_item),e.xp6(1),e.Q6J("ngIf","edit"==s.mode_item),e.xp6(1),e.Q6J("ngIf","translation"==s.mode_item),e.xp6(3),e.Q6J("formGroup",s.guide_Form),e.xp6(5),e.Oqu("Guide title"),e.xp6(1),e.Q6J("formControlName","guide_title"),e.xp6(1),e.Q6J("ngIf","translation"==s.mode_item),e.xp6(4),e.Oqu("Auther "),e.xp6(1),e.Q6J("formControlName","auther"),e.xp6(4),e.Oqu("Guide description "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,S,s.isEditorContentInvalid("guide_description")))("required",!0)("formControlName","guide_description")("bounds","self")("modules",s.quillModules),e.xp6(3),e.hij(" ","cance"," "),e.xp6(1),e.Q6J("disabled",s.guide_Form.invalid),e.xp6(1),e.Q6J("ngIf",s.guide_Form.disabled),e.xp6(1),e.hij(" ","Save"," "))},dependencies:[l.O5,l.mk,l.ax,h.LD,u.KE,u.hX,h.gD,Q.ey,p.ot,p.lW,_.Ps,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,g.c,g.Nt,f.Cq,f.Ou,u.lN,C.g6],styles:["img[_ngcontent-%COMP%]{width:auto!important}.ql-snow[_ngcontent-%COMP%]   .ql-editor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:max-conte!important}"]})}return i})()}]}}]);
"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8660],{8660:(E,x,o)=>{o.r(x),o.d(x,{default:()=>Zt});var g=o(6814),m=o(6223),f=o(2296),p=o(3680),h=o(7700),C=o(617),y=o(4516),s=o(1476),U=o(8525),d=o(5313),S=o(2596),Q=o(5742),L=o(4553),J=o(53),M=o(2948),R=o(8645),u=o(9773),k=o(836),b=o(9397),Y=o(2572),N=o(3997),O=o(7921),_=o(4664),v=o(6306),D=o(2096),A=o(2181),T=o(6232),G=o(3519),j=o.n(G),Z=o(9862),z=o(4451),I=o.n(z),$=o(7070),t=o(5879),B=o(171),H=o(6278),P=o(2787),w=o(1043);const F=["dialogTemplate"];function K(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","S.No"," "))}function W(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"span",36),t._uU(2),t.qZA()()),2&e){const n=r.index,i=t.oxw(3);t.xp6(2),t.hij(" ",n+1+i.pageIndex*i.pageSize," ")}}function X(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","LANG CODE"," "))}function q(e,r){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.lang_code," ")}}function V(e,r){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","NAME"," "))}function tt(e,r){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.category_name," ")}}function et(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","MESSAGE"," "))}function nt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",42),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,l=t.oxw(3),c=t.MAs(22);return t.KtG(l.openDialogWithTemplateRef(c,null==a?null:a.category_message))}),t._uU(1),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("matTooltip","Click To Show category message"),t.xp6(1),t.hij(" ",null==n?null:n.category_message," ")}}function it(e,r){if(1&e&&(t.TgZ(0,"div",43),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==n?null:n.category_message," ")}}function at(e,r){if(1&e&&(t.TgZ(0,"td",39),t.YNc(1,nt,2,2,"div",40),t.YNc(2,it,2,1,"ng-template",null,41,t.W1O),t.qZA()),2&e){const n=r.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",(null==n?null:n.category_message.length)>30)("ngIfElse",i)}}function ot(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Display Happy "," "))}function st(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",44),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.change_happy_display(a))}),t._uU(2),t.qZA(),t.BQk()}2&e&&(t.xp6(2),t.hij(" ","NO",""))}function rt(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",45),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.change_happy_display(a))}),t._uU(2),t.qZA(),t.BQk()}2&e&&(t.xp6(2),t.hij(" ","YES",""))}function lt(e,r){if(1&e&&(t.TgZ(0,"td",35),t.YNc(1,st,3,1,"ng-container",12),t.YNc(2,rt,3,1,"ng-container",12),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.Q6J("ngIf",!(null!=n&&n.allow_happy)),t.xp6(1),t.Q6J("ngIf",null==n?null:n.allow_happy)}}function ct(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Status"," "))}function dt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",50),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.changeStatus(a))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","active"," "))}function pt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",51),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.changeStatus(a))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","inActive"," "))}function mt(e,r){if(1&e&&(t.TgZ(0,"td",46),t.ynx(1),t.TgZ(2,"div",47),t.YNc(3,dt,2,1,"span",48),t.YNc(4,pt,2,1,"span",49),t.qZA(),t.BQk(),t.qZA()),2&e){const n=r.$implicit;t.xp6(3),t.Q6J("ngIf","active"===n.status),t.xp6(1),t.Q6J("ngIf","inActive"===n.status)}}function _t(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Create Date"," "))}function gt(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"span",52),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const n=r.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,n.createdAt,"dd/MM/yyyy, hh:mm a")," ")}}function ut(e,r){1&e&&(t.TgZ(0,"th",53),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Action"," "))}function ft(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",35)(1,"button",54),t.NdJ("click",function(){const l=t.CHM(n).$implicit,c=t.oxw(3);return t.KtG(c.deleteItem(l._id))}),t._UZ(2,"mat-icon",55),t.qZA(),t.TgZ(3,"button",54),t.NdJ("click",function(){const l=t.CHM(n).$implicit,c=t.oxw(3);return t.KtG(c.editItem(l._id))}),t._UZ(4,"mat-icon",56),t.qZA(),t.TgZ(5,"button",54),t.NdJ("click",function(){const l=t.CHM(n).$implicit,c=t.oxw(3);return t.KtG(c.translationCard(l._id))}),t._UZ(6,"mat-icon",57),t.qZA()()}2&e&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:pencil-square"))}function ht(e,r){1&e&&t._UZ(0,"tr",58)}const xt=function(e,r){return[e,r]};function Ct(e,r){if(1&e&&t._UZ(0,"tr",59),2&e){const n=r.$implicit,i=t.oxw(3);t.Q6J("routerLink",t.WLB(1,xt,n.id,i.activeTableId))}}function vt(e,r){if(1&e&&(t.TgZ(0,"table",16),t.ynx(1,17),t.YNc(2,K,2,1,"th",18),t.YNc(3,W,3,1,"td",19),t.BQk(),t.ynx(4,20),t.YNc(5,X,2,1,"th",18),t.YNc(6,q,2,1,"td",19),t.BQk(),t.ynx(7,21),t.YNc(8,V,2,1,"th",22),t.YNc(9,tt,2,1,"td",23),t.BQk(),t.ynx(10,24),t.YNc(11,et,2,1,"th",18),t.YNc(12,at,4,2,"td",25),t.BQk(),t.ynx(13,26),t.YNc(14,ot,2,1,"th",18),t.YNc(15,lt,3,2,"td",19),t.BQk(),t.ynx(16,27),t.YNc(17,ct,2,1,"th",18),t.YNc(18,mt,5,2,"td",28),t.BQk(),t.ynx(19,29),t.YNc(20,_t,2,1,"th",18),t.YNc(21,gt,4,4,"td",19),t.BQk(),t.ynx(22,30),t.YNc(23,ut,2,1,"th",31),t.YNc(24,ft,7,2,"td",19),t.BQk(),t.YNc(25,ht,1,0,"tr",32),t.YNc(26,Ct,1,4,"tr",33),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("dataSource",n.data),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function Dt(e,r){if(1&e&&(t.ynx(0),t.YNc(1,vt,27,3,"table",15),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isLoading)}}function yt(e,r){if(1&e&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",60),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("skeltonType",n.skletonTable)}}function bt(e,r){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",61),t.BQk()),2&e&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}function At(e,r){if(1&e&&(t.TgZ(0,"h2",62),t._uU(1),t.qZA(),t._UZ(2,"div",63),t.TgZ(3,"div",64)(4,"button",65),t._uU(5,"Cancel"),t.qZA()()),2&e){const n=r.$implicit;t.xp6(1),t.Oqu("View category message"),t.xp6(1),t.Q6J("innerHTML",n.description,t.oJD)}}const Tt=function(e,r){return{"pointer-events-none":e,hidden:r}},Zt=[{path:"",component:(()=>{class e{constructor(n,i,a,l){this._CardDesignerService=n,this._fuseConfirmationService=i,this.matDialogRef=a,this._router=l,this.searchInputControl=new m.p4(""),this._unsubscribeAll=new R.x,this.total_recoreds=0,this.pageIndex=0,this.pageSize=10,this.pageSizeOptions=[10,20,50,100],this.skletonTable=M.q.TABLE,this.data=[],this.isLoading=!0,this.toast=j().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.displayedColumns=["S_No","LANG_CODE","NAME","MESSAGE","Display_Happy","status","Create_date","Action"]}ngOnInit(){this._CardDesignerService.updatePagination$({pageIndex:0,pageSize:10,length:0}),this._CardDesignerService.cards$.pipe((0,u.R)(this._unsubscribeAll),(0,k.T)(1),(0,b.b)(i=>{console.log("loading data !",i),this.data=i,this.isLoading=!1})).subscribe(),(0,Y.a)([this._CardDesignerService.pagination$.pipe((0,b.b)(i=>{console.log("data pagination$ !",i),this.pageIndex=i.pageIndex,this.pageSize=i.pageSize}),(0,N.x)((i,a)=>i.pageIndex===a.pageIndex&&i.pageSize===a.pageSize)),this.searchInputControl.valueChanges.pipe((0,O.O)(""),(0,N.x)())]).pipe((0,u.R)(this._unsubscribeAll),(0,_.w)(([i,a])=>(this.isLoading=!0,this._CardDesignerService.get_cards(i?.pageIndex,i?.pageSize,a))),(0,v.K)(i=>(this.isLoading=!1,(0,D.of)(i)))).subscribe(),this._CardDesignerService.pagination$.pipe((0,u.R)(this._unsubscribeAll),(0,b.b)(i=>{this._paginator.length=i.length,this.total_recoreds=i.length,this._paginator.pageIndex=i.pageIndex,this._paginator.pageSize=i.pageSize})).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}pageChange(n){this._CardDesignerService.updatePagination$(n)}openDialogWithTemplateRef(n,i){this.matDialogRef.open(n,{data:{description:i}})}changeStatus(n){const i=I()(n);let a=$.Qd;i.status=i.status===a.active?a.inActive:a.active,this._fuseConfirmationService.open({title:"Update Status",message:"Are you sure you want to change  status?!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Update Status",color:"primary"}}}).afterClosed().pipe((0,A.h)(c=>"confirmed"===c),(0,u.R)(this._unsubscribeAll),(0,_.w)(()=>this._CardDesignerService.update_card(i,i._id).pipe((0,v.K)(c=>(this.toast.fire({icon:"warning",title:c.error?.message}),(0,D.of)(c))))),(0,_.w)(c=>c instanceof Z.UA?T.E:(this.toast.fire({icon:"success",title:"Successfully Update Status Record"}),this._CardDesignerService.get_cards(this.pageIndex,this.pageSize)))).subscribe({})}change_happy_display(n){let i=I()(n);i.allow_happy=!i.allow_happy,this._fuseConfirmationService.open({title:"change happy display",message:"Are you sure you want to change happy display status?!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"change happy display",color:"primary"}}}).afterClosed().pipe((0,A.h)(l=>"confirmed"===l),(0,u.R)(this._unsubscribeAll),(0,_.w)(()=>this._CardDesignerService.update_card(i,i._id).pipe((0,v.K)(l=>(this.toast.fire({icon:"warning",title:l.error?.message}),(0,D.of)(l))))),(0,_.w)(l=>l instanceof Z.UA?T.E:(this.toast.fire({icon:"success",title:"Successfully Update  happy display  for Record"}),this._CardDesignerService.get_cards(this.pageIndex,this.pageSize)))).subscribe({})}deleteItem(n){this._fuseConfirmationService.open({title:"Delete Item ",message:"Are you sure you want to remove this item? This action cannot be undone!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,A.h)(a=>"confirmed"===a),(0,u.R)(this._unsubscribeAll),(0,_.w)(()=>this._CardDesignerService.delete_card(n).pipe((0,v.K)(a=>(this.toast.fire({icon:"warning",title:a.error?.message}),(0,D.of)(a))))),(0,_.w)(a=>a instanceof Z.UA?T.E:(this.isLoading=!0,this.toast.fire({icon:"success",title:"Successfully deleted Record"}),this._CardDesignerService.get_cards(this.pageIndex,this.pageSize)))).subscribe()}addItem(){this._router.navigate(["card-designer/category-cards/card"])}editItem(n){this._router.navigate(["card-designer/category-cards/card"],{queryParams:{id:n}})}translationCard(n){}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(B.X),t.Y36(H.R),t.Y36(h.uw),t.Y36(P.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-card-designer"]],viewQuery:function(i,a){if(1&i&&(t.Gf(s.NW,7),t.Gf(F,7)),2&i){let l;t.iGM(l=t.CRH())&&(a._paginator=l.first),t.iGM(l=t.CRH())&&(a.dialogTemplate=l.first)}},standalone:!0,features:[t.jDz],decls:23,vars:15,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","min-w-max","mx-auto"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-accent","text-on-accent",3,"click"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-2","px-6","md:px-8","border-b"],[1,"flex","w-full","flex-col","sm:flex-row","sm:items-end","sm:justify-between","gap-x-4"],[1,"w-full","md:w-1/2"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","search ...",3,"formControl","autocomplete"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max","max-w-full"],[4,"ngIf"],[1,"border-t","rounded-b-lg",3,"ngClass","pageSize","pageSizeOptions","showFirstLastButtons","page"],["descriptionTemplate",""],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","LANG_CODE"],["matColumnDef","NAME"],["class","hidden sm:table-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","hidden sm:table-cell","mat-cell","",4,"matCellDef"],["matColumnDef","MESSAGE"],["mat-cell","","class","text-center max-w-50",4,"matCellDef"],["matColumnDef","Display_Happy"],["matColumnDef","status"],["mat-cell","","class","min-w-max px-2",4,"matCellDef"],["matColumnDef","Create_date"],["matColumnDef","Action"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],["mat-header-cell","",1,"hidden","sm:table-cell"],["mat-cell","",1,"hidden","sm:table-cell"],["mat-cell","",1,"text-center","max-w-50"],["class","px-4 text-center truncate max-w-50 mx-auto",3,"matTooltip","click",4,"ngIf","ngIfElse"],["full_text",""],[1,"px-4","text-center","truncate","max-w-50","mx-auto",3,"matTooltip","click"],[1,"px-4","text-center"],[1,"px-2","bg-warn-700","py-1","rounded",3,"click"],[1,"px-2","bg-green-500","py-1","rounded",3,"click"],["mat-cell","",1,"min-w-max","px-2"],[1,"text-center","flex","flex-col","justify-center","items-center","w-full","gap-1","py-1"],["class","bg-green-500 text-white py-0.5 px-2 rounded-md w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],["class","bg-warn text-on-warn py-0.5 px-2 rounded-md w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],[1,"bg-green-500","text-white","py-0.5","px-2","rounded-md","w-3/4","min-w-max","text-sm","block",3,"click"],[1,"bg-warn","text-on-warn","py-0.5","px-2","rounded-md","w-3/4","min-w-max","text-sm","block",3,"click"],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-600","dark:text-green-400",3,"svgIcon"],["svgIcon","mat_solid:g_translate",1,"icon-size-5"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer",3,"routerLink"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"],[1,"my-2","text-xl","font-semibold"],[3,"innerHTML"],[1,"w-full","flex","justify-end","px-4","mt-4","border-t"],["mat-button","","matDialogClose","",1,"mt-2"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return a.addItem()}),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t._uU(11,"Search"),t.qZA(),t._UZ(12,"mat-icon",8)(13,"input",9),t.qZA()()(),t.TgZ(14,"div",10)(15,"div",11),t.YNc(16,Dt,2,1,"ng-container",12),t.YNc(17,yt,2,1,"ng-container",12),t.ynx(18),t.TgZ(19,"mat-paginator",13),t.NdJ("page",function(c){return a.pageChange(c)}),t.qZA(),t.BQk(),t.YNc(20,bt,2,2,"ng-container",12),t.qZA()()()(),t.YNc(21,At,6,2,"ng-template",null,14,t.W1O)),2&i&&(t.xp6(4),t.hij(" Total Records : ",a.total_recoreds," "),t.xp6(2),t.hij(" ","Add New Item"," "),t.xp6(6),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",a.searchInputControl)("autocomplete","true"),t.xp6(3),t.Q6J("ngIf",a.data.length),t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(12,Tt,a.isLoading,!a.data.length))("pageSize",a.pageSize)("pageSizeOptions",a.pageSizeOptions)("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!a.data.length&&!a.isLoading))},dependencies:[g.O5,g.mk,g.uU,s.TU,s.NW,d.p0,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,C.Ps,C.Hw,f.ot,f.lW,f.RK,L.W,y.c,y.Nt,w.KE,w.hX,w.qo,m.UX,m.Fj,m.JJ,m.oH,U.LD,p.si,h.Is,h.ZT,J.vi,Q.s,S.AV,S.gM],styles:["app-card-designer[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]})}return e})()}]},7070:(E,x,o)=>{o.d(x,{Qd:()=>g});var g=function(s){return s.active="active",s.inActive="inActive",s}(g||{})}}]);
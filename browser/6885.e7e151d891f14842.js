"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6885],{6885:(te,C,o)=>{o.r(C),o.d(C,{default:()=>G});var e=o(5879),c=o(6814),m=o(6223),v=o(2296),f=o(8034),w=o(617),S=o(4516),h=o(1476),l=o(5313),y=o(2596),Z=o(5742),I=o(4553),U=o(53),N=o(2948),A=o(7457),u=o(1993),Q=o(836),x=o(9397),D=o(2572),d=o(3997),b=o(7921),L=o(4664),J=o(6306),g=o(1486),_=o(1043);function R(t,i){1&t&&(e.TgZ(0,"th",33),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","S.No"," "))}function j(t,i){if(1&t&&(e.TgZ(0,"td",34)(1,"span",35),e._uU(2),e.qZA()()),2&t){const n=i.index,a=e.oxw(3);e.xp6(2),e.hij(" ",n+1+a.pageIndex*a.pageSize," ")}}function z(t,i){1&t&&(e.TgZ(0,"th",36),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Full Name"," "))}function E(t,i){if(1&t&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.hij(" ",n.full_name," ")}}function B(t,i){1&t&&(e.TgZ(0,"th",36),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Email "," "))}function Y(t,i){if(1&t&&(e.TgZ(0,"td",37)(1,"span"),e._uU(2),e.qZA()()),2&t){const n=i.$implicit;e.xp6(2),e.hij(" ",null==n?null:n.email,"")}}function k(t,i){1&t&&(e.TgZ(0,"th",36),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Reg Date"," "))}function M(t,i){if(1&t&&(e.TgZ(0,"td",37)(1,"span",38),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&t){const n=i.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,n.createdAt,"dd/MM/yyyy,hh:mm a")," ")}}function O(t,i){1&t&&e._UZ(0,"tr",39)}function $(t,i){1&t&&e._UZ(0,"tr",40)}function P(t,i){if(1&t&&(e.TgZ(0,"table",22),e.ynx(1,23),e.YNc(2,R,2,1,"th",24),e.YNc(3,j,3,1,"td",25),e.BQk(),e.ynx(4,26),e.YNc(5,z,2,1,"th",27),e.YNc(6,E,2,1,"td",28),e.BQk(),e.ynx(7,29),e.YNc(8,B,2,1,"th",27),e.YNc(9,Y,3,1,"td",28),e.BQk(),e.ynx(10,30),e.YNc(11,k,2,1,"th",27),e.YNc(12,M,4,4,"td",28),e.BQk(),e.YNc(13,O,1,0,"tr",31),e.YNc(14,$,1,0,"tr",32),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("dataSource",n.users),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns)}}function H(t,i){if(1&t&&(e.ynx(0),e.YNc(1,P,15,3,"table",21),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isLoading)}}function F(t,i){if(1&t&&(e.ynx(0),e._UZ(1,"app-loading-skeltons",41),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("skeltonType",n.skletonTable)}}function W(t,i){1&t&&(e.ynx(0),e._UZ(1,"app-empty-state",42),e.BQk()),2&t&&(e.xp6(1),e.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const X=function(t,i){return{"pointer-events-none":t,hidden:i}},G=[{path:"",component:(()=>{class t{constructor(){this.pageIndex=0,this.pageSize=10,this.pageSizeOptions=[10,20,50,100],this.total_recoreds=0,this.users=[],this.skletonTable=N.q.TABLE,this.isLoading=!0,this.destroyRef=(0,e.f3M)(e.ktI),this._UsersService=(0,e.f3M)(A.f),this.datePipe=(0,e.f3M)(c.uU),this.name_searchInputControl=new m.p4,this.start_date_InputControl=new m.p4,this.end_InputControl=new m.p4,this.displayedColumns=["S_No","email","Reg_Date"]}ngOnInit(){this._UsersService.updatePagination$({pageIndex:0,pageSize:50,length:0}),this._UsersService.all_newsLetters$.pipe((0,u.sL)(this.destroyRef),(0,Q.T)(1),(0,x.b)(a=>{console.log("loading data !",a),this.users=a,this.isLoading=!1})).subscribe(),(0,D.a)([this._UsersService.pagination$.pipe((0,x.b)(a=>{this.pageIndex=a.pageIndex,this.pageSize=a.pageSize}),(0,d.x)((a,s)=>a.pageIndex===s.pageIndex&&a.pageSize===s.pageSize)),this.name_searchInputControl.valueChanges.pipe((0,b.O)(""),(0,d.x)()),this.start_date_InputControl.valueChanges.pipe((0,b.O)(""),(0,d.x)()),this.end_InputControl.valueChanges.pipe((0,b.O)(""),(0,d.x)())]).pipe((0,u.sL)(this.destroyRef),(0,L.w)(([a,s,r,p])=>this._UsersService.get_all_newsLetters(a?.pageIndex,a?.pageSize,s,r,p)),(0,J.K)(a=>(this.isLoading=!1,a))).subscribe(),this._UsersService.pagination$.pipe((0,u.sL)(this.destroyRef),(0,x.b)(a=>{this._paginator.length=a.length,this.total_recoreds=a.length,this._paginator.pageIndex=a.pageIndex,this._paginator.pageSize=a.pageSize})).subscribe()}pageChange(n){this._UsersService.updatePagination$(n)}ExportEmails(){this._UsersService.get_all_newsLetters(-1).pipe((0,u.sL)(this.destroyRef)).subscribe({next:n=>{console.log("data",n),this.exportToExcel(n,"exported_data")},error:n=>{console.log("err",n)}})}exportToExcel(n,a){const s=n.map(ee=>({email:ee.email})),r=g.P6.json_to_sheet(s),p=g.P6.book_new();g.P6.book_append_sheet(p,r,"Sheet1");const T=new Date,K=this.datePipe.transform(T,"yyyy-MM-dd"),V=this.datePipe.transform(T,"HH-mm");g.NC(p,`subscribers-users_emails-${K}_${V}.xlsx`)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-subscribers"]],viewQuery:function(a,s){if(1&a&&e.Gf(h.NW,7),2&a){let r;e.iGM(r=e.CRH())&&(s._paginator=r.first)}},standalone:!0,features:[e._Bn([c.uU]),e.jDz],decls:36,vars:17,consts:[[1,"relative","inset-0","min-w-0","w-full"],[1,"flex-auto","pt-4","pb-10","md:px-0","min-w-max"],[1,"h-full","max-h-max","min-w-max"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","w-full","min-w-max"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","flex-row","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-primary","text-gray-950","px-4","rounded","py-2",3,"click"],[1,"relative","flex","flex-row","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-2","border-b","w-full"],[1,"flex","w-full","flex-row","sm:flex-row","sm:justify-between","gap-x-4","px-5"],[1,"w-full"],["matInput","","id","search","type","text","placeholder"," Name",3,"formControl"],["color","primary",1,"w-full"],["matInput","","placeholder","From date",3,"matDatepicker","formControl"],["matIconSuffix","",3,"for"],["picker1",""],["matInput","","placeholder","To date",3,"matDatepicker","formControl"],["picker2",""],[1,"flex","flex-col","flex-auto","min-w-max"],[1,"flex","flex-col","w-full","h-full","max-h-max","min-w-max","border"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","","class","whitespace-nowrap px-2",4,"matHeaderCellDef"],["class","whitespace-nowrap px-2 w-20","mat-cell","",4,"matCellDef"],["matColumnDef","full_name"],["mat-header-cell","","class","whitespace-nowrap px-3",4,"matHeaderCellDef"],["mat-cell","","class","whitespace-nowrap px-3",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","Reg_Date"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"whitespace-nowrap","px-2"],["mat-cell","",1,"whitespace-nowrap","px-2","w-20"],[1,"font-medium","text-sm","text-secondary","max-w-50"],["mat-header-cell","",1,"whitespace-nowrap","px-3"],["mat-cell","",1,"whitespace-nowrap","px-3"],[1,""],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(a,s){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return s.ExportEmails()}),e._uU(8," Export Emails TO XLSX "),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),e._uU(13,"Saerch"),e.qZA(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"mat-form-field",11)(16,"mat-label"),e._uU(17,"From"),e.qZA(),e._UZ(18,"input",12)(19,"mat-datepicker-toggle",13)(20,"mat-datepicker",null,14),e.qZA(),e.TgZ(22,"mat-form-field",11)(23,"mat-label"),e._uU(24,"To"),e.qZA(),e._UZ(25,"input",15)(26,"mat-datepicker-toggle",13)(27,"mat-datepicker",null,16),e.qZA()()(),e.TgZ(29,"div",17)(30,"div",18),e.YNc(31,H,2,1,"ng-container",19),e.YNc(32,F,2,1,"ng-container",19),e.ynx(33),e.TgZ(34,"mat-paginator",20),e.NdJ("page",function(p){return s.pageChange(p)}),e.qZA(),e.BQk(),e.YNc(35,W,2,2,"ng-container",19),e.qZA()()()()()()),2&a){const r=e.MAs(21),p=e.MAs(28);e.xp6(6),e.hij(" Total Records : ",s.total_recoreds," "),e.xp6(8),e.Q6J("formControl",s.name_searchInputControl),e.xp6(4),e.Q6J("matDatepicker",r)("formControl",s.start_date_InputControl),e.xp6(1),e.Q6J("for",r),e.xp6(6),e.Q6J("matDatepicker",p)("formControl",s.end_InputControl),e.xp6(1),e.Q6J("for",p),e.xp6(5),e.Q6J("ngIf",s.users.length),e.xp6(1),e.Q6J("ngIf",s.isLoading),e.xp6(2),e.Q6J("ngClass",e.WLB(14,X,s.isLoading,!s.users.length))("pageSizeOptions",s.pageSizeOptions)("showFirstLastButtons",!0),e.xp6(1),e.Q6J("ngIf",!s.users.length&&!s.isLoading)}},dependencies:[c.O5,c.mk,c.uU,h.TU,h.NW,l.p0,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,w.Ps,v.ot,v.lW,I.W,S.c,S.Nt,_.KE,_.hX,_.R9,m.UX,m.Fj,m.JJ,m.oH,U.vi,Z.s,f.FA,f.Mq,f.hl,f.nW,y.AV],styles:["app-subscribers[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]})}return t})()}]}}]);
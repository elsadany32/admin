"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[896],{896:(O,b,o)=>{o.r(b),o.d(b,{default:()=>Dt});var t=o(5879),u=o(6814),c=o(6223),f=o(2296),p=o(3680),_=o(7700),v=o(617),s=o(4516),A=o(1476),Z=o(8525),w=o(2939),d=o(5313),G=o(2596),D=o(5742),F=o(4553),J=o(53),g=o(1993),k=o(6278),R=o(2948),j=o(4451),L=o.n(j),M=o(836),x=o(9397),q=o(2572),B=o(3997),N=o(7921),h=o(4664),C=o(6306),E=o(2096),T=o(2181),Y=o(3519),S=o.n(Y),P=o(7070),U=o(3933),$=o(342),y=o(1043),Q=o(5940),H=o(3963),z=o(6263);function K(e,r){1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e&&(t.xp6(1),t.hij(" ","Add Gifts Banner"," "))}function W(e,r){1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e&&(t.xp6(1),t.hij(" ","Edit Gifts Banner"," "))}function X(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Offer Description Is Required "),t.qZA())}function V(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," advertisement url Is Required "),t.qZA())}function tt(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," advertisement url Is Not valid Url "),t.qZA())}function et(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," terms of usages Is Required "),t.qZA())}function nt(e,r){if(1&e&&(t.TgZ(0,"mat-option",34)(1,"span",35),t._uU(2),t.qZA()()),2&e){const n=r.$implicit;t.Q6J("value",n),t.xp6(2),t.Oqu(n)}}function it(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(a){return t.CHM(n),t.oxw().removeAvatar(),t.KtG(a.stopPropagation())}),t._UZ(1,"mat-icon",37),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("disabled",n.BannerForm.disabled),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:trash")}}function at(e,r){1&e&&t._UZ(0,"img",38)}function ot(e,r){if(1&e&&t._UZ(0,"img",39),2&e){const n=t.oxw();t.Q6J("src",n.imageSrc,t.LSH)}}function rt(e,r){1&e&&t._UZ(0,"mat-progress-spinner",40),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}const st=function(e){return{"border rounded-md border-warn":e}};let lt=(()=>{class e{constructor(){this.statustypes=["active","inActive"],this.quillModules={toolbar:[["bold","italic","underline"],[{align:[]},{list:"ordered"},{list:"bullet"}],["clean"]]},this.mode="add",this.imageSrc=null,this.ImageFile=null,this.element_id=null,this.toast=S().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this._formBuilder=(0,t.f3M)(c.QS),this.matDialogRef=(0,t.f3M)(_.so),this.data=(0,t.f3M)(_.WI),this.destroyRef=(0,t.f3M)(t.ktI),this._OffersService=(0,t.f3M)(U.b)}ngOnInit(){this.BannerForm=this._formBuilder.group({offer_title:["",[c.kI.required]],offer_description:["",[c.kI.required]],offer_image:["",[]],terms_of_usages:["",c.kI.required],advertisement_url:["",[c.kI.required,c.kI.pattern("^(https?://)?[\\w.-]+(\\.[\\w.-]+)+[/#?]?.*$")]],status:["active",[c.kI.required]]}),this.data.element&&"edit"==this.data.mode&&(this.element_id=this.data.element._id,this.mode="edit",this.imageSrc=this.data.element.offer_image,this.BannerForm.patchValue(this.data.element))}removeAvatar(){this.imageSrc=null,this.ImageFile=null}uploadAvatar(n){if(!n.length)return;const a=n[0];if(!["image/jpeg","image/png"].includes(a.type))return;const l=new FileReader;l.readAsDataURL(a),l.onload=()=>{this.imageSrc=l.result},this.ImageFile=a}isEditorContentInvalid(n){const i=this.BannerForm.get(n);return i.invalid&&(i.dirty||i.touched)}submit(){this.BannerForm.invalid||("add"===this.mode&&this.ImageFile&&this.submitDataWithNewImage(),"edit"===this.mode&&this.imageSrc&&!this.ImageFile&&(console.log("this.updateWithOriginalImage()"),this.updateWithOriginalImage()),"edit"===this.mode&&this.imageSrc&&this.ImageFile&&(console.log("updateDataWithNewImage()"),this.updateDataWithNewImage()))}submitDataWithNewImage(){this.BannerForm.disable(),this._OffersService.uploadImage(this.ImageFile,"banner-games").pipe((0,g.sL)(this.destroyRef),(0,h.w)(i=>{console.log("Uploading image switched ",i),this.BannerForm.get("offer_image").setValue(i);const a={...this.BannerForm.value};return console.log("payload ",a),this._OffersService.create_gift_banner(a)})).subscribe({next:i=>{this.toast.fire({icon:"success",title:"Success Add Gifts Banner"}),this.matDialogRef.close("confirmed")},error:i=>{this.toast.fire({icon:"error",title:i?.error.message}),this.BannerForm.enable(),console.error("Error occurred:",i)}})}updateWithOriginalImage(){this.BannerForm.disable();const n={...this.BannerForm.value};this._OffersService.update_gift_banner(this.element_id,n).pipe((0,g.sL)(this.destroyRef)).subscribe({next:i=>{this.toast.fire({icon:"success",title:"Success Update Gifts banner"}),this.matDialogRef.close("confirmed")},error:i=>{this.toast.fire({icon:"error",title:i?.error.message}),this.BannerForm.enable()}})}updateDataWithNewImage(){this.BannerForm.disable(),this._OffersService.uploadImage(this.ImageFile,"banner-gifts").pipe((0,h.w)(i=>{console.log("Uploading image switched ",i),this.BannerForm.get("offer_image").setValue(i);const a={...this.BannerForm.value};return this._OffersService.update_gift_banner(this.element_id,a)}),(0,g.sL)(this.destroyRef)).subscribe({next:i=>{this.toast.fire({icon:"success",title:"Success Update Gifts Banner"}),this.matDialogRef.close("confirmed")},error:i=>{this.toast.fire({icon:"error",title:i?.error.message}),this.BannerForm.enable()}})}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-gift-banner"]],standalone:!0,features:[t.jDz],decls:65,vars:37,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","justify-between","pb-2"],[1,"text-xl","md:text-2xl","font-bold","tracking-tight","leading-7","sm:leading-10","truncate"],[4,"ngIf"],["mat-dialog-close","","mat-icon-button",""],["svgIcon","heroicons_outline:x-circle",1,"text-primary"],[1,"w-full","border-t","overflow-y-scroll","max-h-128","px-4","py-6"],[1,"grid","sm:grid-cols-2","gap-x-6","w-full","pb-4",3,"formGroup"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","placeholder","offer_title",3,"formControlName"],["subscriptSizing","dynamic",1,"w-full"],["cdkTextareaAutosize","","rows","3","matInput","","placeholder","offer_description",1,"w-full","mb-2",3,"formControlName"],[1,"sm:col-span-2","mt-2"],["matInput","","placeholder","advertisement url",3,"formControlName"],[1,"w-full","sm:col-span-2","my-2"],[1,"font-semibold","text-default"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],["placeholder","terms_of_usages",1,"mt-2","w-full",3,"ngClass","required","formControlName","bounds","modules"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"sm:col-span-2","flex","flex-col","w-full"],[1,"text-xl","font-semibold","my-2","text-default","text-start"],[1,"bg-default","flex","flex-col","justify-center","items-center","px-8","py-2","w-full"],["mat-icon-button","","class","flex items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover","matRipple","","type","button",3,"disabled","click",4,"ngIf"],["src","assets/images/image-upload.svg","alt","img","srcset","","class","block min-w-70 min-h-50 max-w-full max-h-50 object-fill",4,"ngIf"],["alt","img","class","block min-w-70 min-h-50 max-w-full max-h-full object-contain",3,"src",4,"ngIf"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","disabled","accept","change"],["img_banner","","avatarFileInput",""],["mat-flat-button","","type","button",1,"block","bg-[#FFF9C4]","text-black","my-2","px-4","py-2",3,"disabled","click"],[1,"w-full","flex","items-center","justify-center","sm:justify-end","px-6","pt-4","space-x-3","border-t"],["mat-stroked-button","","mat-dialog-close","","type","button"],["mat-flat-button","","type","button","color","primary",1,"px-8",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"value"],[1,"ml-3"],["mat-icon-button","","matRipple","","type","button",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover",3,"disabled","click"],[1,"text-red-500",3,"svgIcon"],["src","assets/images/image-upload.svg","alt","img","srcset","",1,"block","min-w-70","min-h-50","max-w-full","max-h-50","object-fill"],["alt","img",1,"block","min-w-70","min-h-50","max-w-full","max-h-full","object-contain",3,"src"],[3,"diameter","mode"]],template:function(i,a){if(1&i){const l=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),t.YNc(4,K,2,1,"ng-container",3),t.YNc(5,W,2,1,"ng-container",3),t.qZA()(),t.TgZ(6,"button",4),t._UZ(7,"mat-icon",5),t.qZA()(),t.TgZ(8,"div",6)(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13),t.qZA(),t._UZ(14,"input",10),t.TgZ(15,"mat-error"),t._uU(16," Offer Title Is Required "),t.qZA()()(),t.TgZ(17,"div",8)(18,"mat-form-field",11)(19,"mat-label"),t._uU(20),t.qZA(),t._UZ(21,"textarea",12),t.YNc(22,X,2,0,"mat-error",3),t.qZA()(),t.TgZ(23,"div",13)(24,"mat-form-field",9)(25,"mat-label"),t._uU(26),t.qZA(),t._UZ(27,"input",14),t.YNc(28,V,2,0,"mat-error",3),t.YNc(29,tt,2,0,"mat-error",3),t.qZA()(),t.ynx(30),t.TgZ(31,"div",15)(32,"mat-label",16),t._uU(33),t.qZA(),t._UZ(34,"span",17)(35,"quill-editor",18),t.YNc(36,et,2,0,"mat-error",3),t.qZA(),t.BQk(),t.TgZ(37,"div",8)(38,"mat-form-field",9)(39,"mat-label"),t._uU(40),t.qZA(),t.TgZ(41,"mat-select",19),t.YNc(42,nt,3,2,"mat-option",20),t.qZA()()(),t.TgZ(43,"div",21)(44,"p",22),t._uU(45),t.qZA(),t.TgZ(46,"div",23),t.YNc(47,it,2,2,"button",24),t.YNc(48,at,1,0,"img",25),t.YNc(49,ot,1,1,"img",26),t.TgZ(50,"div")(51,"input",27,28),t.NdJ("change",function(){t.CHM(l);const I=t.MAs(53);return t.KtG(a.uploadAvatar(I.files))}),t.qZA()(),t.TgZ(54,"button",29),t.NdJ("click",function(){t.CHM(l);const I=t.MAs(52);return t.KtG(I.click())}),t._uU(55),t.qZA()()()()(),t.ynx(56),t.TgZ(57,"div",30),t.ynx(58),t.TgZ(59,"button",31),t._uU(60),t.qZA(),t.BQk(),t.ynx(61),t.TgZ(62,"button",32),t.NdJ("click",function(){return a.submit()}),t.YNc(63,rt,1,2,"mat-progress-spinner",33),t._uU(64),t.qZA(),t.BQk(),t.qZA(),t.BQk(),t.qZA()}2&i&&(t.xp6(4),t.Q6J("ngIf","add"==a.mode),t.xp6(1),t.Q6J("ngIf","edit"==a.mode),t.xp6(4),t.Q6J("formGroup",a.BannerForm),t.xp6(4),t.Oqu("Offer Title"),t.xp6(1),t.Q6J("formControlName","offer_title"),t.xp6(6),t.Oqu("Offer Description"),t.xp6(1),t.Q6J("formControlName","offer_description"),t.xp6(1),t.Q6J("ngIf",a.BannerForm.get("offer_description").hasError("required")),t.xp6(4),t.Oqu("Advertisement Url"),t.xp6(1),t.Q6J("formControlName","advertisement_url"),t.xp6(1),t.Q6J("ngIf",a.BannerForm.get("advertisement_url").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.BannerForm.get("advertisement_url").hasError("pattern")),t.xp6(4),t.Oqu("Terms Of Usages "),t.xp6(2),t.Q6J("ngClass",t.VKq(35,st,a.isEditorContentInvalid("terms_of_usages")))("required",!0)("formControlName","terms_of_usages")("bounds","self")("modules",a.quillModules),t.xp6(1),t.Q6J("ngIf",a.isEditorContentInvalid("terms_of_usages")),t.xp6(4),t.Oqu("Status"),t.xp6(1),t.Q6J("formControlName","status"),t.xp6(1),t.Q6J("ngForOf",a.statustypes),t.xp6(3),t.hij(" ","Gifts Banner Image *"," "),t.xp6(2),t.Q6J("ngIf",a.imageSrc),t.xp6(1),t.Q6J("ngIf",!a.imageSrc),t.xp6(1),t.Q6J("ngIf",a.imageSrc),t.xp6(2),t.Q6J("multiple",!1)("disabled",a.BannerForm.disabled)("accept","image/*"),t.xp6(3),t.Q6J("disabled",a.BannerForm.disabled),t.xp6(1),t.hij(" ","Select Image"," "),t.xp6(5),t.hij(" ","cance"," "),t.xp6(2),t.Q6J("disabled",a.BannerForm.invalid||!a.imageSrc),t.xp6(1),t.Q6J("ngIf",a.BannerForm.disabled),t.xp6(1),t.hij(" ","Save"," "))},dependencies:[u.ax,u.O5,u.mk,v.Ps,v.Hw,f.ot,f.lW,f.RK,y.lN,y.KE,y.hX,y.TO,c.UX,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,s.c,s.Nt,z.IC,_.Is,_.ZT,p.si,p.wG,Z.LD,Z.gD,p.ey,p.Ng,Q.Cq,Q.Ou,H.g6]})}return e})();function ct(e,r){1&e&&(t.TgZ(0,"th",27),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","S.No"," "))}function mt(e,r){if(1&e&&(t.TgZ(0,"td",28)(1,"span",29),t._uU(2),t.qZA()()),2&e){const n=r.index,i=t.oxw(3);t.xp6(2),t.hij(" ",n+1+i.pageIndex*i.pageSize," ")}}function ft(e,r){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Offer Title"," "))}function dt(e,r){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",n.offer_title," ")}}function ut(e,r){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Offer Image"," "))}function pt(e,r){if(1&e&&t._UZ(0,"img",35),2&e){const n=t.oxw().$implicit;t.Q6J("alt","offer_image ")("src",null==n?null:n.offer_image,t.LSH)}}function _t(e,r){1&e&&(t.TgZ(0,"div",36),t._uU(1," NO offer_image "),t.qZA())}function gt(e,r){if(1&e&&(t.TgZ(0,"td",28)(1,"div",31)(2,"div",32),t.YNc(3,pt,1,2,"img",33),t.YNc(4,_t,2,0,"div",34),t.qZA()()()),2&e){const n=r.$implicit;t.xp6(3),t.Q6J("ngIf",""!==(null==n?null:n.offer_image)),t.xp6(1),t.Q6J("ngIf",""===(null==n?null:n.offer_image))}}function ht(e,r){1&e&&(t.TgZ(0,"th",37),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Advertisement Url"," "))}function xt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",38)(1,"span",39),t.NdJ("click",function(){const l=t.CHM(n).$implicit,m=t.oxw(3);return t.KtG(m.copyUrl(null==l?null:l.advertisement_url))}),t._uU(2),t.qZA()()}if(2&e){const n=r.$implicit;t.xp6(2),t.hij(" ",null==n?null:n.advertisement_url,"")}}function vt(e,r){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Status"," "))}function bt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",43),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.changeStatus(a))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","active"," "))}function Ct(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",44),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.changeStatus(a))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","inActive"," "))}function yt(e,r){if(1&e&&(t.TgZ(0,"td",28)(1,"div",40),t.YNc(2,bt,2,1,"span",41),t.YNc(3,Ct,2,1,"span",42),t.qZA()()),2&e){const n=r.$implicit;t.xp6(2),t.Q6J("ngIf","active"===n.status),t.xp6(1),t.Q6J("ngIf","inActive"===n.status)}}function At(e,r){1&e&&(t.TgZ(0,"th",30),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","createdAt"," "))}function Zt(e,r){if(1&e&&(t.TgZ(0,"td",28)(1,"span",45),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const n=r.$implicit;t.xp6(2),t.hij(" ",t.Dn7(3,1,n.createdAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function Bt(e,r){1&e&&(t.TgZ(0,"th",46),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Action"," "))}function Tt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",28)(1,"button",47),t.NdJ("click",function(){const l=t.CHM(n).$implicit,m=t.oxw(3);return t.KtG(m.deleteRecored(l._id))}),t._UZ(2,"mat-icon",48),t.qZA(),t.TgZ(3,"button",47),t.NdJ("click",function(){const l=t.CHM(n).$implicit,m=t.oxw(3);return t.KtG(m.addItem(l,"edit"))}),t._UZ(4,"mat-icon",49),t.qZA()()}2&e&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:pencil-square"))}function It(e,r){1&e&&t._UZ(0,"tr",50)}function wt(e,r){1&e&&t._UZ(0,"tr",51)}function Gt(e,r){if(1&e&&(t.TgZ(0,"table",11),t.ynx(1,12),t.YNc(2,ct,2,1,"th",13),t.YNc(3,mt,3,1,"td",14),t.BQk(),t.ynx(4,15),t.YNc(5,ft,2,1,"th",16),t.YNc(6,dt,2,1,"td",14),t.BQk(),t.ynx(7,17),t.YNc(8,ut,2,1,"th",16),t.YNc(9,gt,5,2,"td",14),t.BQk(),t.ynx(10,18),t.YNc(11,ht,2,1,"th",19),t.YNc(12,xt,3,1,"td",20),t.BQk(),t.ynx(13,21),t.YNc(14,vt,2,1,"th",16),t.YNc(15,yt,4,2,"td",14),t.BQk(),t.ynx(16,22),t.YNc(17,At,2,1,"th",16),t.YNc(18,Zt,4,5,"td",14),t.BQk(),t.ynx(19,23),t.YNc(20,Bt,2,1,"th",24),t.YNc(21,Tt,5,2,"td",14),t.BQk(),t.YNc(22,It,1,0,"tr",25),t.YNc(23,wt,1,0,"tr",26),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("dataSource",n.data),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function Nt(e,r){if(1&e&&(t.ynx(0),t.YNc(1,Gt,24,3,"table",10),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isLoading)}}function St(e,r){if(1&e&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",52),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("skeltonType",n.skletonTable)}}function Ut(e,r){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",53),t.BQk()),2&e&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const Qt=function(){return[10,20,50,100]},Ot=function(e,r){return{"pointer-events-none":e,hidden:r}},Dt=[{path:"",component:(()=>{class e{constructor(){this.pageIndex=0,this.pageSize=0,this.total_recoreds=0,this.status="",this.data=[],this.LangStatus=[{value:"active",name:"Active"},{value:"inActive",name:"InActive"},{value:"",name:"All Status"}],this.skletonTable=R.q.TABLE,this.toast=S().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.isLoading=!0,this._fuseConfirmationService=(0,t.f3M)(k.R),this.matDialogRef=(0,t.f3M)(_.uw),this.destroyRef=(0,t.f3M)(t.ktI),this._OffersService=(0,t.f3M)(U.b),this.clipboard=(0,t.f3M)($.TU),this._snackBar=(0,t.f3M)(w.ux),this.statusInputControl=new c.p4,this.SearchInputControl=new c.p4,this.displayedColumns=["S_No","offer_title","offer_image","advertisement_url","status","Created","action"]}ngOnInit(){this._OffersService.updatePagination$({pageIndex:0,pageSize:10,length:0}),this._OffersService.all_gift_banner$.pipe((0,g.sL)(this.destroyRef),(0,M.T)(1),(0,x.b)(i=>{console.log("loading data !",i),this.data=i,this.isLoading=!1})).subscribe(),(0,q.a)([this._OffersService.pagination$.pipe((0,x.b)(i=>{this.pageIndex=i.pageIndex,this.pageSize=i.pageSize}),(0,B.x)((i,a)=>i.pageIndex===a.pageIndex)),this.statusInputControl.valueChanges.pipe((0,N.O)(""),(0,B.x)()),this.SearchInputControl.valueChanges.pipe((0,N.O)(""),(0,B.x)(),(0,x.b)(()=>{this.statusInputControl.setValue("")}))]).pipe((0,g.sL)(this.destroyRef),(0,h.w)(([i,a,l])=>(this.isLoading=!0,this._OffersService.get_all_gift_banner(i?.pageIndex,i?.pageSize))),(0,C.K)(i=>(this.isLoading=!1,(0,E.of)(i)))).subscribe(),this._OffersService.pagination$.pipe((0,g.sL)(this.destroyRef),(0,x.b)(i=>{this._paginator.length=i.length,this.total_recoreds=i.length,this._paginator.pageIndex=i.pageIndex,this._paginator.pageSize=i.pageSize})).subscribe()}pageChange(n){this._OffersService.updatePagination$(n)}addItem(n,i){this.matDialogRef.open(lt,{maxWidth:"800px",width:"100%",panelClass:"tag-dialog",disableClose:!0,data:{element:n,mode:i}}).afterClosed().pipe((0,T.h)(l=>"confirmed"===l),(0,h.w)(()=>this._OffersService.get_all_gift_banner())).subscribe()}copyUrl(n){this.clipboard.copy(n),this._snackBar.open("Copy URL","Cancel",{duration:1e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["top-center-snackbar"]})}deleteRecored(n){this._fuseConfirmationService.open({title:"Delete Gifts Banner !",message:"Are you sure you want to remove this item? This action cannot be undone!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,g.sL)(this.destroyRef),(0,T.h)(a=>"confirmed"===a),(0,h.w)(()=>this._OffersService.delete_gift_banner(n).pipe((0,C.K)(a=>(this.toast.fire({icon:"warning",title:"warning something !"}),a)),(0,x.b)(()=>{this.isLoading=!0,this.toast.fire({icon:"success",title:"Successfully deleted Recored"})}))),(0,h.w)(()=>this._OffersService.get_all_gift_banner())).subscribe()}changeStatus(n){const i=L()(n);let a=P.Qd;i.status=i.status===a.active?a.inActive:a.active,console.log("after changeis_featured",n.is_featured),this._fuseConfirmationService.open({title:"Update Status",message:"Are you sure you want to change  status?!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Update Status",color:"primary"}}}).afterClosed().pipe((0,g.sL)(this.destroyRef),(0,T.h)(m=>"confirmed"===m),(0,h.w)(()=>this._OffersService.update_gift_banner(i._id,i).pipe((0,C.K)(m=>m))),(0,C.K)(m=>(this.toast.fire({icon:"warning",title:"warning something !"}),m)),(0,x.b)(()=>{this.toast.fire({icon:"success",title:"Successfully updated"}),this.isLoading=!0}),(0,h.w)(()=>this._OffersService.get_all_gift_banner())).subscribe({})}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-gift-banners"]],viewQuery:function(i,a){if(1&i&&t.Gf(A.NW,7),2&i){let l;t.iGM(l=t.CRH())&&(a._paginator=l.first)}},standalone:!0,features:[t.jDz],decls:15,vars:12,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","min-w-max","mx-auto"],[1,"w-full","px-5","pt-5","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-accent","text-on-accent",3,"click"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-2","border-b","w-full"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max","max-w-full"],[4,"ngIf"],[1,"border",3,"pageSizeOptions","ngClass","showFirstLastButtons","page"],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","","class","w-12 px-1",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","offer_title"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","offer_image"],["matColumnDef","advertisement_url"],["mat-header-cell","","class","max-w-20",4,"matHeaderCellDef"],["mat-cell","","matTooltip","click to copy url","matTooltipPosition","below","class","max-w-80 overflow-hidden",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","Created"],["matColumnDef","action"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"w-12","px-1"],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],["mat-header-cell",""],[1,"w-full"],[1,"relative","flex","flex-0","items-center","justify-center","w-full","h-12","rounded","overflow-hidden","border"],["class","w-full h-12 object-contain",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"w-full","h-12","object-contain",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["mat-header-cell","",1,"max-w-20"],["mat-cell","","matTooltip","click to copy url","matTooltipPosition","below",1,"max-w-80","overflow-hidden"],[1,"block","truncate","px-2","max-w-80","text-center","overflow-hidden",3,"click"],[1,"text-center","flex","flex-row","justify-center","items-center","w-full"],["mat-ripple","","class","active-btn",3,"click",4,"ngIf"],["mat-ripple","","class","inactive-btn",3,"click",4,"ngIf"],["mat-ripple","",1,"active-btn",3,"click"],["mat-ripple","",1,"inactive-btn",3,"click"],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-800",3,"svgIcon"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return a.addItem()}),t._uU(6),t.qZA()(),t._UZ(7,"div",5),t.TgZ(8,"div",6)(9,"div",7),t.YNc(10,Nt,2,1,"ng-container",8),t.YNc(11,St,2,1,"ng-container",8),t.ynx(12),t.TgZ(13,"mat-paginator",9),t.NdJ("page",function(m){return a.pageChange(m)}),t.qZA(),t.BQk(),t.YNc(14,Ut,2,2,"ng-container",8),t.qZA()()()()),2&i&&(t.xp6(4),t.hij(" Total Records : ",a.total_recoreds," "),t.xp6(2),t.hij(" ","Add New Item"," "),t.xp6(4),t.Q6J("ngIf",a.data.length),t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(8,Qt))("ngClass",t.WLB(9,Ot,a.isLoading,!a.data.length))("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!a.data.length&&!a.isLoading))},dependencies:[u.O5,u.mk,u.uU,A.TU,A.NW,d.p0,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,v.Ps,v.Hw,f.ot,f.lW,f.RK,F.W,s.c,c.UX,Z.LD,p.si,p.wG,_.Is,J.vi,D.s,G.AV,G.gM,w.ZX],styles:["app-gift-banners[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]})}return e})()}]},7070:(O,b,o)=>{o.d(b,{Qd:()=>t});var t=function(s){return s.active="active",s.inActive="inActive",s}(t||{})}}]);
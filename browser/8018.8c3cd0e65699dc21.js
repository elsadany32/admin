"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8018],{8018:(Q,b,r)=>{r.r(b),r.d(b,{default:()=>ke});var e=r(5879),p=r(6814),m=r(6223),d=r(2296),f=r(3680),_=r(7700),v=r(617),s=r(4516),y=r(1476),T=r(8525),u=r(5313),D=r(5742),F=r(4553),J=r(53),g=r(1993),R=r(836),x=r(9397),k=r(2572),Z=r(3997),w=r(7921),h=r(4664),C=r(6306),q=r(2096),B=r(2181),N=r(3933),E=r(6278),M=r(2948),j=r(3519),S=r.n(j),A=r(1043),U=r(5940),L=r(3963),Y=r(6263);function P(t,o){1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t&&(e.xp6(1),e.hij(" ","Add Games Banner"," "))}function $(t,o){1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t&&(e.xp6(1),e.hij(" ","Edit Games Banner"," "))}function H(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Offer Description Is Required "),e.qZA())}function z(t,o){if(1&t&&(e.TgZ(0,"mat-option",34)(1,"span",35),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(2),e.Oqu(n.name)}}function K(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," type Is Required "),e.qZA())}function W(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," advertisement url Is Required "),e.qZA())}function X(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," advertisement url Is Not valid Url "),e.qZA())}function V(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," terms of usages Is Required "),e.qZA())}function ee(t,o){if(1&t&&(e.TgZ(0,"mat-option",34)(1,"span",35),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(2),e.Oqu(n)}}function te(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(i){return e.CHM(n),e.oxw().removeAvatar(),e.KtG(i.stopPropagation())}),e._UZ(1,"mat-icon",37),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("disabled",n.BannerForm.disabled),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:trash")}}function ne(t,o){1&t&&e._UZ(0,"img",38)}function ae(t,o){if(1&t&&e._UZ(0,"img",39),2&t){const n=e.oxw();e.Q6J("src",n.imageSrc,e.LSH)}}function ie(t,o){1&t&&e._UZ(0,"mat-progress-spinner",40),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}const oe=function(t){return{"border rounded-md border-warn":t}};let re=(()=>{class t{constructor(){this.statustypes=["active","inActive"],this.quillModules={toolbar:[["bold","italic","underline"],[{align:[]},{list:"ordered"},{list:"bullet"}],["clean"]]},this.mode="add",this.typeEnum=[{name:"PLATFORMES",value:"PLATFORMES"},{name:"GAMES ON CRYPTOMATE",value:"GAMES_ON_CRYPTOMATE"},{name:"HOME",value:"HOME"}],this.imageSrc=null,this.ImageFile=null,this.element_id=null,this.toast=S().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this._formBuilder=(0,e.f3M)(m.QS),this.matDialogRef=(0,e.f3M)(_.so),this.data=(0,e.f3M)(_.WI),this.destroyRef=(0,e.f3M)(e.ktI),this._OffersService=(0,e.f3M)(N.b)}ngOnInit(){this.BannerForm=this._formBuilder.group({offer_title:["",[m.kI.required]],offer_description:["",[m.kI.required]],type:["",[m.kI.required]],offer_image:["",[]],terms_of_usages:["",m.kI.required],advertisement_url:["",[m.kI.required,m.kI.pattern("^(https?://)?[\\w.-]+(\\.[\\w.-]+)+[/#?]?.*$")]],status:["active",[m.kI.required]]}),this.data.element&&"edit"==this.data.mode&&(this.element_id=this.data.element._id,this.mode="edit",this.imageSrc=this.data.element.offer_image,this.BannerForm.patchValue(this.data.element))}removeAvatar(){this.imageSrc=null,this.ImageFile=null}uploadAvatar(n){if(!n.length)return;const i=n[0];if(!["image/jpeg","image/png"].includes(i.type))return;const l=new FileReader;l.readAsDataURL(i),l.onload=()=>{this.imageSrc=l.result},this.ImageFile=i}isEditorContentInvalid(n){const a=this.BannerForm.get(n);return a.invalid&&(a.dirty||a.touched)}submit(){this.BannerForm.invalid||("add"===this.mode&&this.ImageFile&&this.submitDataWithNewImage(),"edit"===this.mode&&this.imageSrc&&!this.ImageFile&&(console.log("this.updateWithOriginalImage()"),this.updateWithOriginalImage()),"edit"===this.mode&&this.imageSrc&&this.ImageFile&&(console.log("updateDataWithNewImage()"),this.updateDataWithNewImage()))}submitDataWithNewImage(){this.BannerForm.disable(),this._OffersService.uploadImage(this.ImageFile,"banner-games").pipe((0,g.sL)(this.destroyRef),(0,h.w)(a=>{console.log("Uploading image switched ",a),this.BannerForm.get("offer_image").setValue(a);const i={...this.BannerForm.value};return console.log("payload ",i),this._OffersService.create_game_banner(i)})).subscribe({next:a=>{this.toast.fire({icon:"success",title:"Success Add Games Banner"}),this.matDialogRef.close("confirmed")},error:a=>{this.toast.fire({icon:"error",title:a?.error.message}),this.BannerForm.enable(),console.error("Error occurred:",a)}})}updateWithOriginalImage(){this.BannerForm.disable();const n={...this.BannerForm.value};this._OffersService.update_game_banner(this.element_id,n).pipe((0,g.sL)(this.destroyRef)).subscribe({next:a=>{this.toast.fire({icon:"success",title:"Success Update Games banner"}),this.matDialogRef.close("confirmed")},error:a=>{this.toast.fire({icon:"error",title:a?.error.message}),this.BannerForm.enable()}})}updateDataWithNewImage(){this.BannerForm.disable(),this._OffersService.uploadImage(this.ImageFile,"banner-games").pipe((0,h.w)(a=>{console.log("Uploading image switched ",a),this.BannerForm.get("offer_image").setValue(a);const i={...this.BannerForm.value};return this._OffersService.update_game_banner(this.element_id,i)}),(0,g.sL)(this.destroyRef)).subscribe({next:a=>{this.toast.fire({icon:"success",title:"Success Update Games Banner"}),this.matDialogRef.close("confirmed")},error:a=>{this.toast.fire({icon:"error",title:a?.error.message}),this.BannerForm.enable()}})}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-banner"]],standalone:!0,features:[e.jDz],decls:72,vars:41,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","justify-between","pb-2"],[1,"text-xl","md:text-2xl","font-bold","tracking-tight","leading-7","sm:leading-10","truncate"],[4,"ngIf"],["mat-dialog-close","","mat-icon-button",""],["svgIcon","heroicons_outline:x-circle",1,"text-primary"],[1,"w-full","border-t","overflow-y-scroll","max-h-128","px-4","py-6"],[1,"grid","sm:grid-cols-2","gap-x-6","w-full","pb-4",3,"formGroup"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","placeholder","offer_title",3,"formControlName"],["subscriptSizing","dynamic",1,"w-full"],["cdkTextareaAutosize","","rows","3","matInput","","placeholder","offer_description",1,"w-full","mb-2",3,"formControlName"],[1,"w-full","mt-2"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","advertisement url",3,"formControlName"],[1,"w-full","sm:col-span-2"],[1,"font-semibold","text-default"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],["placeholder","terms_of_usages",1,"mt-2","w-full",3,"ngClass","required","formControlName","bounds","modules"],[1,"sm:col-span-2","flex","flex-col","w-full"],[1,"text-xl","font-semibold","my-2","text-default","text-start"],[1,"bg-default","flex","flex-col","justify-center","items-center","px-8","py-2","w-full"],["mat-icon-button","","class","flex items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover","matRipple","","type","button",3,"disabled","click",4,"ngIf"],["src","assets/images/image-upload.svg","alt","img","srcset","","class","block min-w-70 min-h-50 max-w-full max-h-50 object-fill",4,"ngIf"],["alt","img","class","block min-w-70 min-h-50 max-w-full max-h-full object-contain",3,"src",4,"ngIf"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","disabled","accept","change"],["img_banner","","avatarFileInput",""],["mat-flat-button","","type","button",1,"block","bg-[#FFF9C4]","text-black","my-2","px-4","py-2",3,"disabled","click"],[1,"w-full","flex","items-center","justify-center","sm:justify-end","px-6","pt-4","space-x-3","border-t"],["mat-stroked-button","","mat-dialog-close","","type","button"],["mat-flat-button","","type","button","color","primary",1,"px-8",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"value"],[1,"ml-3"],["mat-icon-button","","matRipple","","type","button",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover",3,"disabled","click"],[1,"text-red-500",3,"svgIcon"],["src","assets/images/image-upload.svg","alt","img","srcset","",1,"block","min-w-70","min-h-50","max-w-full","max-h-50","object-fill"],["alt","img",1,"block","min-w-70","min-h-50","max-w-full","max-h-full","object-contain",3,"src"],[3,"diameter","mode"]],template:function(a,i){if(1&a){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),e.YNc(4,P,2,1,"ng-container",3),e.YNc(5,$,2,1,"ng-container",3),e.qZA()(),e.TgZ(6,"button",4),e._UZ(7,"mat-icon",5),e.qZA()(),e.TgZ(8,"div",6)(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),e._uU(13),e.qZA(),e._UZ(14,"input",10),e.TgZ(15,"mat-error"),e._uU(16," Offer Title Is Required "),e.qZA()()(),e.TgZ(17,"div",8)(18,"mat-form-field",11)(19,"mat-label"),e._uU(20),e.qZA(),e._UZ(21,"textarea",12),e.YNc(22,H,2,0,"mat-error",3),e.qZA()(),e.TgZ(23,"div",8)(24,"mat-form-field",13)(25,"mat-label"),e._uU(26),e.qZA(),e.TgZ(27,"mat-select",14),e.YNc(28,z,3,2,"mat-option",15),e.qZA(),e.YNc(29,K,2,0,"mat-error",3),e.qZA()(),e.TgZ(30,"div",8)(31,"mat-form-field",9)(32,"mat-label"),e._uU(33),e.qZA(),e._UZ(34,"input",16),e.YNc(35,W,2,0,"mat-error",3),e.YNc(36,X,2,0,"mat-error",3),e.qZA()(),e.ynx(37),e.TgZ(38,"div",17)(39,"mat-label",18),e._uU(40),e.qZA(),e._UZ(41,"span",19)(42,"quill-editor",20),e.YNc(43,V,2,0,"mat-error",3),e.qZA(),e.BQk(),e.TgZ(44,"div",8)(45,"mat-form-field",9)(46,"mat-label"),e._uU(47),e.qZA(),e.TgZ(48,"mat-select",14),e.YNc(49,ee,3,2,"mat-option",15),e.qZA()()(),e.TgZ(50,"div",21)(51,"p",22),e._uU(52),e.qZA(),e.TgZ(53,"div",23),e.YNc(54,te,2,2,"button",24),e.YNc(55,ne,1,0,"img",25),e.YNc(56,ae,1,1,"img",26),e.TgZ(57,"div")(58,"input",27,28),e.NdJ("change",function(){e.CHM(l);const I=e.MAs(60);return e.KtG(i.uploadAvatar(I.files))}),e.qZA()(),e.TgZ(61,"button",29),e.NdJ("click",function(){e.CHM(l);const I=e.MAs(59);return e.KtG(I.click())}),e._uU(62),e.qZA()()()()(),e.ynx(63),e.TgZ(64,"div",30),e.ynx(65),e.TgZ(66,"button",31),e._uU(67),e.qZA(),e.BQk(),e.ynx(68),e.TgZ(69,"button",32),e.NdJ("click",function(){return i.submit()}),e.YNc(70,ie,1,2,"mat-progress-spinner",33),e._uU(71),e.qZA(),e.BQk(),e.qZA(),e.BQk(),e.qZA()}2&a&&(e.xp6(4),e.Q6J("ngIf","add"==i.mode),e.xp6(1),e.Q6J("ngIf","edit"==i.mode),e.xp6(4),e.Q6J("formGroup",i.BannerForm),e.xp6(4),e.Oqu("Offer Title"),e.xp6(1),e.Q6J("formControlName","offer_title"),e.xp6(6),e.Oqu("Offer Description"),e.xp6(1),e.Q6J("formControlName","offer_description"),e.xp6(1),e.Q6J("ngIf",i.BannerForm.get("offer_description").hasError("required")),e.xp6(4),e.Oqu("Type"),e.xp6(1),e.Q6J("formControlName","type"),e.xp6(1),e.Q6J("ngForOf",i.typeEnum),e.xp6(1),e.Q6J("ngIf",i.BannerForm.get("type").hasError("required")),e.xp6(4),e.Oqu("Advertisement Url"),e.xp6(1),e.Q6J("formControlName","advertisement_url"),e.xp6(1),e.Q6J("ngIf",i.BannerForm.get("advertisement_url").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.BannerForm.get("advertisement_url").hasError("pattern")),e.xp6(4),e.Oqu("Terms Of Usages "),e.xp6(2),e.Q6J("ngClass",e.VKq(39,oe,i.isEditorContentInvalid("terms_of_usages")))("required",!0)("formControlName","terms_of_usages")("bounds","self")("modules",i.quillModules),e.xp6(1),e.Q6J("ngIf",i.isEditorContentInvalid("terms_of_usages")),e.xp6(4),e.Oqu("Status"),e.xp6(1),e.Q6J("formControlName","status"),e.xp6(1),e.Q6J("ngForOf",i.statustypes),e.xp6(3),e.hij(" ","Games Banner Image *"," "),e.xp6(2),e.Q6J("ngIf",i.imageSrc),e.xp6(1),e.Q6J("ngIf",!i.imageSrc),e.xp6(1),e.Q6J("ngIf",i.imageSrc),e.xp6(2),e.Q6J("multiple",!1)("disabled",i.BannerForm.disabled)("accept","image/*"),e.xp6(3),e.Q6J("disabled",i.BannerForm.disabled),e.xp6(1),e.hij(" ","Select Image"," "),e.xp6(5),e.hij(" ","cance"," "),e.xp6(2),e.Q6J("disabled",i.BannerForm.invalid||!i.imageSrc),e.xp6(1),e.Q6J("ngIf",i.BannerForm.disabled),e.xp6(1),e.hij(" ","Save"," "))},dependencies:[p.ax,p.O5,p.mk,v.Ps,v.Hw,d.ot,d.lW,d.RK,A.lN,A.KE,A.hX,A.TO,m.UX,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.sg,m.u,s.c,s.Nt,Y.IC,_.Is,_.ZT,f.si,f.wG,T.LD,T.gD,f.ey,f.Ng,U.Cq,U.Ou,L.g6]})}return t})();var se=r(342),O=r(2596),G=r(2939),le=r(4451),me=r.n(le),ce=r(7070);function de(t,o){1&t&&(e.TgZ(0,"th",28),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","S.No"," "))}function ue(t,o){if(1&t&&(e.TgZ(0,"td",29)(1,"span",30),e._uU(2),e.qZA()()),2&t){const n=o.index,a=e.oxw(3);e.xp6(2),e.hij(" ",n+1+a.pageIndex*a.pageSize," ")}}function pe(t,o){1&t&&(e.TgZ(0,"th",31),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Offer Title"," "))}function fe(t,o){if(1&t&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",n.offer_title," ")}}function _e(t,o){1&t&&(e.TgZ(0,"th",31),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Offer Image"," "))}function ge(t,o){if(1&t&&e._UZ(0,"img",36),2&t){const n=e.oxw().$implicit;e.Q6J("alt","offer_image ")("src",null==n?null:n.offer_image,e.LSH)}}function he(t,o){1&t&&(e.TgZ(0,"div",37),e._uU(1," NO offer image "),e.qZA())}function xe(t,o){if(1&t&&(e.TgZ(0,"td",29)(1,"div",32)(2,"div",33),e.YNc(3,ge,1,2,"img",34),e.YNc(4,he,2,0,"div",35),e.qZA()()()),2&t){const n=o.$implicit;e.xp6(3),e.Q6J("ngIf",""!==(null==n?null:n.offer_image)),e.xp6(1),e.Q6J("ngIf",""===(null==n?null:n.offer_image))}}function ve(t,o){1&t&&(e.TgZ(0,"th",38),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Advertisement Url"," "))}function be(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"td",39)(1,"span",40),e.NdJ("click",function(){const l=e.CHM(n).$implicit,c=e.oxw(3);return e.KtG(c.copyUrl(null==l?null:l.advertisement_url))}),e._uU(2),e.qZA()()}if(2&t){const n=o.$implicit;e.xp6(2),e.hij(" ",null==n?null:n.advertisement_url,"")}}function Ce(t,o){1&t&&(e.TgZ(0,"th",31),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Type"," "))}function Ae(t,o){if(1&t&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.type," ")}}function ye(t,o){1&t&&(e.TgZ(0,"th",31),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Status"," "))}function Te(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"span",44),e.NdJ("click",function(){e.CHM(n);const i=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.changeStatus(i))}),e._uU(1),e.qZA()}2&t&&(e.xp6(1),e.hij(" ","active"," "))}function Ze(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"span",45),e.NdJ("click",function(){e.CHM(n);const i=e.oxw().$implicit,l=e.oxw(3);return e.KtG(l.changeStatus(i))}),e._uU(1),e.qZA()}2&t&&(e.xp6(1),e.hij(" ","inActive"," "))}function Be(t,o){if(1&t&&(e.TgZ(0,"td",29)(1,"div",41),e.YNc(2,Te,2,1,"span",42),e.YNc(3,Ze,2,1,"span",43),e.qZA()()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("ngIf","active"===n.status),e.xp6(1),e.Q6J("ngIf","inActive"===n.status)}}function Ie(t,o){1&t&&(e.TgZ(0,"th",31),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","createdAt"," "))}function we(t,o){if(1&t&&(e.TgZ(0,"td",29)(1,"span",46),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&t){const n=o.$implicit;e.xp6(2),e.hij(" ",e.Dn7(3,1,n.createdAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function Ne(t,o){1&t&&(e.TgZ(0,"th",47),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Action"," "))}function Se(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"td",29)(1,"button",48),e.NdJ("click",function(){const l=e.CHM(n).$implicit,c=e.oxw(3);return e.KtG(c.delete_item(l._id))}),e._UZ(2,"mat-icon",49),e.qZA(),e.TgZ(3,"button",48),e.NdJ("click",function(){const l=e.CHM(n).$implicit,c=e.oxw(3);return e.KtG(c.addItem(l,"edit"))}),e._UZ(4,"mat-icon",50),e.qZA()()}2&t&&(e.xp6(2),e.Q6J("svgIcon","heroicons_outline:trash"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:pencil-square"))}function Ue(t,o){1&t&&e._UZ(0,"tr",51)}function Oe(t,o){1&t&&e._UZ(0,"tr",52)}function Ge(t,o){if(1&t&&(e.TgZ(0,"table",11),e.ynx(1,12),e.YNc(2,de,2,1,"th",13),e.YNc(3,ue,3,1,"td",14),e.BQk(),e.ynx(4,15),e.YNc(5,pe,2,1,"th",16),e.YNc(6,fe,2,1,"td",14),e.BQk(),e.ynx(7,17),e.YNc(8,_e,2,1,"th",16),e.YNc(9,xe,5,2,"td",14),e.BQk(),e.ynx(10,18),e.YNc(11,ve,2,1,"th",19),e.YNc(12,be,3,1,"td",20),e.BQk(),e.ynx(13,21),e.YNc(14,Ce,2,1,"th",16),e.YNc(15,Ae,2,1,"td",14),e.BQk(),e.ynx(16,22),e.YNc(17,ye,2,1,"th",16),e.YNc(18,Be,4,2,"td",14),e.BQk(),e.ynx(19,23),e.YNc(20,Ie,2,1,"th",16),e.YNc(21,we,4,5,"td",14),e.BQk(),e.ynx(22,24),e.YNc(23,Ne,2,1,"th",25),e.YNc(24,Se,5,2,"td",14),e.BQk(),e.YNc(25,Ue,1,0,"tr",26),e.YNc(26,Oe,1,0,"tr",27),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("dataSource",n.data),e.xp6(25),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns)}}function Qe(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Ge,27,3,"table",10),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isLoading)}}function De(t,o){if(1&t&&(e.ynx(0),e._UZ(1,"app-loading-skeltons",53),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("skeltonType",n.skletonTable)}}function Fe(t,o){1&t&&(e.ynx(0),e._UZ(1,"app-empty-state",54),e.BQk()),2&t&&(e.xp6(1),e.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const Je=function(t,o){return{"pointer-events-none":t,hidden:o}},Re=function(){return[10,20,50,100]},ke=[{path:"",component:(()=>{class t{constructor(){this.pageIndex=0,this.pageSize=0,this.total_recoreds=0,this.status="",this.data=[],this.LangStatus=[{value:"active",name:"Active"},{value:"inActive",name:"InActive"},{value:"",name:"All Status"}],this.skletonTable=M.q.TABLE,this.toast=S().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.isLoading=!0,this._fuseConfirmationService=(0,e.f3M)(E.R),this.matDialogRef=(0,e.f3M)(_.uw),this.destroyRef=(0,e.f3M)(e.ktI),this._OffersService=(0,e.f3M)(N.b),this.clipboard=(0,e.f3M)(se.TU),this._snackBar=(0,e.f3M)(G.ux),this.statusInputControl=new m.p4,this.SearchInputControl=new m.p4,this.displayedColumns=["S_No","offer_title","offer_image","advertisement_url","type","status","Created","action"]}ngOnInit(){this._OffersService.updatePagination$({pageIndex:0,pageSize:10,length:0}),this._OffersService.all_games_banner$.pipe((0,g.sL)(this.destroyRef),(0,R.T)(1),(0,x.b)(a=>{console.log("loading data !",a),this.data=a,this.isLoading=!1})).subscribe(),(0,k.a)([this._OffersService.pagination$.pipe((0,x.b)(a=>{this.pageIndex=a.pageIndex,this.pageSize=a.pageSize}),(0,Z.x)((a,i)=>a.pageIndex===i.pageIndex&&a.pageSize===i.pageSize)),this.statusInputControl.valueChanges.pipe((0,w.O)(""),(0,Z.x)()),this.SearchInputControl.valueChanges.pipe((0,w.O)(""),(0,Z.x)(),(0,x.b)(()=>{this.statusInputControl.setValue("")}))]).pipe((0,g.sL)(this.destroyRef),(0,h.w)(([a,i,l])=>(this.isLoading=!0,this._OffersService.get_all_games_banner(a?.pageIndex,a?.pageSize))),(0,C.K)(a=>(this.isLoading=!1,(0,q.of)(a)))).subscribe(),this._OffersService.pagination$.pipe((0,g.sL)(this.destroyRef),(0,x.b)(a=>{this._paginator.length=a.length,this.total_recoreds=a.length,this._paginator.pageIndex=a.pageIndex,this._paginator.pageSize=a.pageSize})).subscribe()}pageChange(n){this._OffersService.updatePagination$(n)}addItem(n,a){this.matDialogRef.open(re,{maxWidth:"800px",width:"100%",panelClass:"tag-dialog",disableClose:!0,data:{element:n,mode:a}}).afterClosed().pipe((0,B.h)(l=>"confirmed"===l),(0,h.w)(()=>this._OffersService.get_all_games_banner())).subscribe()}copyUrl(n){this.clipboard.copy(n),this._snackBar.open("Copy URL","Cancel",{duration:1e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["top-center-snackbar"]})}delete_item(n){this._fuseConfirmationService.open({title:"Delete Record !",message:"Are you sure you want to remove this item? This action cannot be undone!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,g.sL)(this.destroyRef),(0,B.h)(i=>"confirmed"===i),(0,h.w)(()=>this._OffersService.delete_game_banner(n).pipe((0,C.K)(i=>(this.toast.fire({icon:"warning",title:"warning something !"}),i)),(0,x.b)(()=>{this.isLoading=!0,this.toast.fire({icon:"success",title:"Successfully deleted Recored"})}))),(0,h.w)(()=>this._OffersService.get_all_games_banner())).subscribe()}changeStatus(n){const a=me()(n);let i=ce.Qd;a.status=a.status===i.active?i.inActive:i.active,console.log("after changeis_featured",n.is_featured),this._fuseConfirmationService.open({title:"Update Status",message:"Are you sure you want to change  status?!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Update Status",color:"primary"}}}).afterClosed().pipe((0,g.sL)(this.destroyRef),(0,B.h)(c=>"confirmed"===c),(0,h.w)(()=>this._OffersService.update_game_banner(a._id,a).pipe((0,C.K)(c=>c))),(0,C.K)(c=>(this.toast.fire({icon:"warning",title:"warning something !"}),c)),(0,x.b)(()=>{this.toast.fire({icon:"success",title:"Successfully updated"}),this.isLoading=!0}),(0,h.w)(()=>this._OffersService.get_all_games_banner())).subscribe({})}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-games-banners"]],viewQuery:function(a,i){if(1&a&&e.Gf(y.NW,7),2&a){let l;e.iGM(l=e.CRH())&&(i._paginator=l.first)}},standalone:!0,features:[e.jDz],decls:15,vars:12,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","min-w-max","mx-auto"],[1,"w-full","px-5","pt-5","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-accent","text-on-accent",3,"click"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-2","border-b","w-full"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max","max-w-full"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","","class","w-12 px-1",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","offer_title"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","offer_image"],["matColumnDef","advertisement_url"],["mat-header-cell","","class","max-w-20",4,"matHeaderCellDef"],["mat-cell","","matTooltip","click to copy url","matTooltipPosition","below","class","max-w-80 overflow-hidden",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","status"],["matColumnDef","Created"],["matColumnDef","action"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"w-12","px-1"],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],["mat-header-cell",""],[1,"w-full"],[1,"relative","flex","flex-0","items-center","justify-center","w-full","h-12","overflow-hidden"],["class","max-w-30 h-12 object-contain",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"max-w-30","h-12","object-contain",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["mat-header-cell","",1,"max-w-20"],["mat-cell","","matTooltip","click to copy url","matTooltipPosition","below",1,"max-w-80","overflow-hidden"],[1,"block","truncate","px-2","max-w-80","text-center","overflow-hidden",3,"click"],[1,"text-center","flex","flex-row","justify-center","items-center","w-full"],["mat-ripple","","class","active-btn",3,"click",4,"ngIf"],["mat-ripple","","class","inactive-btn",3,"click",4,"ngIf"],["mat-ripple","",1,"active-btn",3,"click"],["mat-ripple","",1,"inactive-btn",3,"click"],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-800",3,"svgIcon"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.addItem()}),e._uU(6),e.qZA()(),e._UZ(7,"div",5),e.TgZ(8,"div",6)(9,"div",7),e.YNc(10,Qe,2,1,"ng-container",8),e.YNc(11,De,2,1,"ng-container",8),e.ynx(12),e.TgZ(13,"mat-paginator",9),e.NdJ("page",function(c){return i.pageChange(c)}),e.qZA(),e.BQk(),e.YNc(14,Fe,2,2,"ng-container",8),e.qZA()()()()),2&a&&(e.xp6(4),e.hij(" Total Records : ",i.total_recoreds," "),e.xp6(2),e.hij(" ","Add New Item"," "),e.xp6(4),e.Q6J("ngIf",i.data.length),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(2),e.Q6J("ngClass",e.WLB(8,Je,i.isLoading,!i.data.length))("pageSizeOptions",e.DdM(11,Re))("showFirstLastButtons",!0),e.xp6(1),e.Q6J("ngIf",!i.data.length&&!i.isLoading))},dependencies:[p.O5,p.mk,p.uU,y.TU,y.NW,u.p0,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,v.Ps,v.Hw,d.ot,d.lW,d.RK,F.W,s.c,m.UX,T.LD,f.si,f.wG,_.Is,J.vi,D.s,O.AV,O.gM,G.ZX],styles:["app-games-banners[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]})}return t})()}]},7070:(Q,b,r)=>{r.d(b,{Qd:()=>e});var e=function(s){return s.active="active",s.inActive="inActive",s}(e||{})}}]);
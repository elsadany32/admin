"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6091],{6091:(J,T,s)=>{s.r(T),s.d(T,{default:()=>Qt});var t=s(5879),_=s(6814),N=s(6278),d=s(4475),p=s(7700),l=s(6223),S=s(836),i=s(9397),L=s(2572),m=s(3997),g=s(7921),f=s(4664),w=s(6306),b=s(2181),U=s(3519),Q=s.n(U),R=s(2948),D=s(1476),C=s(3680),A=s(8525),Z=s(4516),F=s(4553),v=s(2296),I=s(617),h=s(5313),E=s(5940),y=s(1043),O=s(8699),x=s(1993);function k(e,r){if(1&e&&(t.TgZ(0,"mat-option",16)(1,"span",17),t._uU(2),t.qZA()()),2&e){const n=r.$implicit;t.Q6J("value",n.lang_code),t.xp6(2),t.Oqu(n.language_name)}}function j(e,r){1&e&&t._UZ(0,"mat-progress-spinner",18),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}let M=(()=>{class e{constructor(){this.category=null,this.languages=[],this.toast=Q().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this._formBuilder=(0,t.f3M)(l.QS),this.matDialogRef=(0,t.f3M)(p.so),this.data=(0,t.f3M)(p.WI),this.destroyRef=(0,t.f3M)(t.ktI),this.LangTransatedService=(0,t.f3M)(O.A)}ngOnInit(){console.log("data",this.data.category),this.categoryForm=this._formBuilder.group({category_name:[this.data.category.category_name,[l.kI.required]],category_id:[this.data.category._id,[l.kI.required]],lang_code:["En",[l.kI.required]]}),this.LangTransatedService.getLanguages().pipe((0,x.sL)(this.destroyRef)).subscribe({next:n=>{this.languages=n,console.log("translation",n)},error:n=>{}})}submit(){if(this.categoryForm.invalid)return;const n={...this.categoryForm.value};this.translateCategory(n)}translateCategory(n){this.LangTransatedService.translateCategory(n).pipe((0,x.sL)(this.destroyRef),(0,i.b)(a=>{201===a.code?(this.toast.fire({icon:"success",title:"Success Translate Category"}),this.matDialogRef.close("confirmed")):(this.toast.fire({icon:"error",title:"smoething error !"}),this.categoryForm.enable())}),(0,w.K)(a=>(console.log("error",a),this.toast.fire({icon:"error",title:a.message}),this.categoryForm.enable(),a))).subscribe()}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-translated"]],standalone:!0,features:[t.jDz],decls:32,vars:11,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","justify-between"],[1,"text-xl","md:text-3xl","font-bold","tracking-tight","leading-7","sm:leading-10","truncate"],["mat-dialog-close","","mat-icon-button",""],["svgIcon","heroicons_outline:x-circle",1,"text-primary"],[1,"w-full"],[1,"grid","sm:grid-cols-2","gap-6","w-full","mt-8","border-b","mb-4","pb-4","overflow-hidden","max-h-180",3,"formGroup"],[1,"sm:col-span-2"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Product Category Name",3,"formControlName"],[1,"w-full","flex","items-center","justify-center","sm:justify-end","px-6","pt-4","space-x-3"],["mat-stroked-button","","mat-dialog-close","","type","button"],["mat-flat-button","","type","button","color","primary",1,"px-8",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"value"],[1,"ml-3"],[3,"diameter","mode"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),t.ynx(4),t._uU(5),t.BQk(),t.qZA()(),t.TgZ(6,"button",3),t._UZ(7,"mat-icon",4),t.qZA()(),t.TgZ(8,"div",5)(9,"form",6)(10,"div",7),t.ynx(11),t.TgZ(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),t._uU(15),t.qZA(),t.TgZ(16,"mat-select",9),t.YNc(17,k,3,2,"mat-option",10),t.qZA()()(),t.BQk(),t.TgZ(18,"div",7)(19,"mat-form-field",8)(20,"mat-label"),t._uU(21),t.qZA(),t._UZ(22,"input",11),t.qZA()()()()(),t.ynx(23),t.TgZ(24,"div",12),t.ynx(25),t.TgZ(26,"button",13),t._uU(27),t.qZA(),t.BQk(),t.ynx(28),t.TgZ(29,"button",14),t.NdJ("click",function(){return o.submit()}),t.YNc(30,j,1,2,"mat-progress-spinner",15),t._uU(31),t.qZA(),t.BQk(),t.qZA(),t.BQk(),t.qZA()),2&a&&(t.xp6(5),t.hij(" ","Add translate Category"," "),t.xp6(4),t.Q6J("formGroup",o.categoryForm),t.xp6(6),t.Oqu("Select Language"),t.xp6(1),t.Q6J("formControlName","lang_code"),t.xp6(1),t.Q6J("ngForOf",o.languages),t.xp6(4),t.Oqu("Category Name"),t.xp6(1),t.Q6J("formControlName","category_name"),t.xp6(5),t.hij(" ","cance"," "),t.xp6(2),t.Q6J("disabled",o.categoryForm.invalid),t.xp6(1),t.Q6J("ngIf",o.categoryForm.disabled),t.xp6(1),t.hij(" ","Save"," "))},dependencies:[_.O5,_.ax,I.Ps,I.Hw,v.ot,v.lW,v.RK,y.lN,y.KE,y.hX,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Z.c,Z.Nt,p.Is,p.ZT,C.si,A.LD,A.gD,C.ey,C.Ng,E.Cq,E.Ou]})}return e})();var P=s(2787),B=s(4451),q=s.n(B),Y=s(7070),G=s(5742),$=s(53);function K(e,r){1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e&&(t.xp6(1),t.hij(" ","Edit Main Category "," "))}function z(e,r){1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e&&(t.xp6(1),t.hij(" ","Edit sub Category "," "))}function H(e,r){if(1&e&&(t.TgZ(0,"mat-option",18)(1,"span",19),t._uU(2),t.qZA()()),2&e){const n=r.$implicit;t.Q6J("value",n),t.xp6(2),t.Oqu(n)}}function W(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(o){return t.CHM(n),t.oxw(2).removeAvatar(),t.KtG(o.stopPropagation())}),t._UZ(1,"mat-icon",30),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("disabled",n.categoryForm.disabled),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:trash")}}function X(e,r){1&e&&t._UZ(0,"img",31)}function V(e,r){if(1&e&&t._UZ(0,"img",32),2&e){const n=t.oxw(2);t.Q6J("src",n.imageSrc,t.LSH)}}function tt(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",20)(2,"p",21),t._uU(3),t.qZA(),t.TgZ(4,"div",22),t.YNc(5,W,2,2,"button",23),t.YNc(6,X,1,0,"img",24),t.YNc(7,V,1,1,"img",25),t.TgZ(8,"div")(9,"input",26,27),t.NdJ("change",function(){t.CHM(n);const o=t.MAs(11),c=t.oxw();return t.KtG(c.uploadAvatar(o.files))}),t.qZA()(),t.TgZ(12,"button",28),t.NdJ("click",function(){t.CHM(n);const o=t.MAs(10);return t.KtG(o.click())}),t._uU(13),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(3),t.hij(" ","sub category img *"," "),t.xp6(2),t.Q6J("ngIf",n.imageSrc),t.xp6(1),t.Q6J("ngIf",!n.imageSrc),t.xp6(1),t.Q6J("ngIf",n.imageSrc),t.xp6(2),t.Q6J("multiple",!1)("disabled",n.categoryForm.disabled)("accept","image/*"),t.xp6(3),t.Q6J("disabled",n.categoryForm.disabled),t.xp6(1),t.hij(" ","Select Image"," ")}}function et(e,r){1&e&&t._UZ(0,"mat-progress-spinner",33),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}let nt=(()=>{class e{constructor(){this.category=null,this.ImageFile=null,this.showImg=!1,this.statustypes=["active","inActive"],this.mode="main",this.toast=Q().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this._formBuilder=(0,t.f3M)(l.QS),this.CategoriesService=(0,t.f3M)(d.G),this.matDialogRef=(0,t.f3M)(p.so),this.data=(0,t.f3M)(p.WI),this.destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){console.log("data",this.data),this.mode=this.data.category.category_type,this.categoryForm=this._formBuilder.group({category_name:[this.data.category.category_name,[l.kI.required]],status:[this.data.category.status,l.kI.required],category_type:[this.data.category.category_type,l.kI.required],image:[this.data.category?.image],_id:[this.data.category._id,[l.kI.required]]}),"sub"===this.mode&&(this.showImg=!0,this.imageSrc=this.categoryForm.get("image").value)}submit(){if(this.categoryForm.invalid)return;const n={...this.categoryForm.value};("main"==this.mode||"sub"==this.mode&&!this.ImageFile&&this.imageSrc)&&this.submitmainCategory(n),"sub"==this.mode&&this.ImageFile&&this.submitWithNewImage(n)}removeAvatar(){this.imageSrc=null,this.ImageFile=null,this.categoryForm.get("image").setValue("")}uploadAvatar(n){if(!n.length)return;const o=n[0];if(!["image/jpeg","image/png"].includes(o.type))return;const c=new FileReader;c.readAsDataURL(o),c.onload=()=>{this.imageSrc=c.result},this.ImageFile=o}submitmainCategory(n){this.CategoriesService.Updatecategory(n,n._id).pipe((0,x.sL)(this.destroyRef)).subscribe({next:a=>{this.toast.fire({icon:"success",title:"Success update  Category"}),this.matDialogRef.close("confirmed")},error:a=>{this.toast.fire({icon:"error",title:"smoething error !"}),this.categoryForm.enable()}})}submitWithNewImage(n){this.CategoriesService.uploadImage(this.ImageFile).pipe((0,x.sL)(this.destroyRef),(0,f.w)(o=>{console.log("Uploading image switched ",o),this.categoryForm.get("image").setValue(o);const c={...this.categoryForm.value};return console.log("paylaod: ",c),delete c.main_category,console.log("paylaod: ",c),this.CategoriesService.Updatecategory(n,n._id)})).subscribe({next:o=>{console.log("success add category",o),this.toast.fire({icon:"success",title:"Success Update Sub Category"}),this.matDialogRef.close("confirmed")},error:o=>{console.log("error:",o),this.toast.fire({icon:"error",title:o.error?.message}),this.categoryForm.enable()}})}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-category"]],standalone:!0,features:[t.jDz],decls:36,vars:16,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","justify-between"],[1,"text-xl","md:text-3xl","font-bold","tracking-tight","leading-7","sm:leading-10","truncate"],[4,"ngIf"],["mat-dialog-close","","mat-icon-button",""],["svgIcon","heroicons_outline:x-circle",1,"text-primary"],[1,"w-full","border-t","overflow-y-scroll","max-h-128","px-4"],[1,"grid","sm:grid-cols-2","w-full","mt-2","border-b","mb-2","pb-2","overflow-hidden",3,"formGroup"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","placeholder","Product Category Name",3,"formControlName"],["matInput","","placeholder","category_type",3,"formControlName","readonly"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","justify-center","sm:justify-end","px-6","pt-4","space-x-3"],["mat-stroked-button","","mat-dialog-close","","type","button"],["mat-flat-button","","type","button","color","primary",1,"px-8",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"value"],[1,"ml-3"],[1,"sm:col-span-2","flex","flex-col","justify-center","items-center"],[1,"text-xl","font-semibold","my-1","text-default"],[1,"bg-default","flex","flex-col","justify-center","items-center","px-8","py-1","w-full"],["mat-icon-button","","class","flex items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover","matRipple","",3,"disabled","click",4,"ngIf"],["src","assets/images/image-upload.svg","alt","img","class","block min-w-50 min-h-50 max-w-50 max-h-50 object-fill",4,"ngIf"],["alt","img","class","block min-w-50 min-h-50 max-w-50 max-h-50 object-fill",3,"src",4,"ngIf"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","disabled","accept","change"],["img_banner","","avatarFileInput",""],["mat-flat-button","",1,"block","bg-[#FFF9C4]","text-black","my-1","px-4","py-2",3,"disabled","click"],["mat-icon-button","","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover",3,"disabled","click"],[1,"text-red-500",3,"svgIcon"],["src","assets/images/image-upload.svg","alt","img",1,"block","min-w-50","min-h-50","max-w-50","max-h-50","object-fill"],["alt","img",1,"block","min-w-50","min-h-50","max-w-50","max-h-50","object-fill",3,"src"],[3,"diameter","mode"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),t.YNc(4,K,2,1,"ng-container",3),t.YNc(5,z,2,1,"ng-container",3),t.qZA()(),t.TgZ(6,"button",4),t._UZ(7,"mat-icon",5),t.qZA()(),t.TgZ(8,"div",6)(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13),t.qZA(),t._UZ(14,"input",10),t.qZA(),t.TgZ(15,"mat-form-field",9)(16,"mat-label"),t._uU(17),t.qZA(),t._UZ(18,"input",11),t.qZA(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21),t.qZA(),t.TgZ(22,"mat-select",12),t.YNc(23,H,3,2,"mat-option",13),t.qZA(),t.TgZ(24,"mat-hint"),t._uU(25,"Active the category"),t.qZA()()(),t.YNc(26,tt,14,9,"ng-container",3),t.qZA()(),t.ynx(27),t.TgZ(28,"div",14),t.ynx(29),t.TgZ(30,"button",15),t._uU(31),t.qZA(),t.BQk(),t.ynx(32),t.TgZ(33,"button",16),t.NdJ("click",function(){return o.submit()}),t.YNc(34,et,1,2,"mat-progress-spinner",17),t._uU(35),t.qZA(),t.BQk(),t.qZA(),t.BQk(),t.qZA()),2&a&&(t.xp6(4),t.Q6J("ngIf","main"===o.mode),t.xp6(1),t.Q6J("ngIf","sub"===o.mode),t.xp6(4),t.Q6J("formGroup",o.categoryForm),t.xp6(4),t.Oqu("Category Name"),t.xp6(1),t.Q6J("formControlName","category_name"),t.xp6(3),t.Oqu("Category Type"),t.xp6(1),t.Q6J("formControlName","category_type")("readonly",!0),t.xp6(3),t.Oqu("Status"),t.xp6(1),t.Q6J("formControlName","status"),t.xp6(1),t.Q6J("ngForOf",o.statustypes),t.xp6(3),t.Q6J("ngIf",o.showImg),t.xp6(5),t.hij(" ","cance"," "),t.xp6(2),t.Q6J("disabled",o.categoryForm.invalid||!o.imageSrc&&"sub"==o.mode),t.xp6(1),t.Q6J("ngIf",o.categoryForm.disabled),t.xp6(1),t.hij(" ","Save"," "))},dependencies:[_.O5,_.ax,I.Ps,I.Hw,v.ot,v.lW,v.RK,y.lN,y.KE,y.hX,y.bx,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Z.c,Z.Nt,p.Is,p.ZT,C.si,C.wG,A.LD,A.gD,C.ey,C.Ng,E.Cq,E.Ou]})}return e})();function ot(e,r){if(1&e&&(t.TgZ(0,"mat-option",17)(1,"span",18),t._uU(2),t.qZA()()),2&e){const n=r.$implicit;t.Q6J("value",n.value),t.xp6(2),t.Oqu(n.name)}}function at(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","S.No"," "))}function it(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"span",36),t._uU(2),t.qZA()()),2&e){const n=r.index,a=t.oxw(3);t.xp6(2),t.hij(" ",n+1+a.pageIndex*a.pageSize," ")}}function st(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Image"," "))}function rt(e,r){if(1&e&&t._UZ(0,"img",41),2&e){const n=t.oxw().$implicit;t.Q6J("alt","Product thumbnail image")("src",null==n?null:n.image,t.LSH)}}function lt(e,r){1&e&&(t.TgZ(0,"div",42),t._uU(1," NO THUMB "),t.qZA())}function ct(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"div",37)(2,"div",38),t.YNc(3,rt,1,2,"img",39),t.YNc(4,lt,2,0,"div",40),t.qZA()()()),2&e){const n=r.$implicit;t.xp6(3),t.Q6J("ngIf",""!==(null==n?null:n.image)),t.xp6(1),t.Q6J("ngIf",""===(null==n?null:n.Image_Url))}}function mt(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Category Name"," "))}function gt(e,r){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",n.category_name," ")}}function dt(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Parent Category"," "))}function pt(e,r){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.category_id.category_name," ")}}function ut(e,r){1&e&&t._uU(0),2&e&&t.hij(" ","Main Category"," ")}function _t(e,r){if(1&e&&(t.TgZ(0,"td",43),t.YNc(1,pt,2,1,"ng-container",44),t.YNc(2,ut,1,1,"ng-template",null,45,t.W1O),t.qZA()),2&e){const n=r.$implicit,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf","sub"===n.category_type)("ngIfElse",a)}}function ft(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Status"," "))}function ht(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.changeStatus(o))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","active"," "))}function xt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"span",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.changeStatus(o))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","inActive"," "))}function Ct(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"div",46),t.YNc(2,ht,2,1,"span",47),t.YNc(3,xt,2,1,"span",48),t.qZA()()),2&e){const n=r.$implicit;t.xp6(2),t.Q6J("ngIf","active"===n.status),t.xp6(1),t.Q6J("ngIf","inActive"===n.status)}}function yt(e,r){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","createdAt"," "))}function vt(e,r){if(1&e&&(t.TgZ(0,"td",35)(1,"span",51),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const n=r.$implicit;t.xp6(2),t.hij(" ",t.Dn7(3,1,n.createdAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function bt(e,r){1&e&&(t.TgZ(0,"th",52),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Action"," "))}function Tt(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",35)(1,"button",53),t.NdJ("click",function(){const c=t.CHM(n).$implicit,u=t.oxw(3);return t.KtG(u.deleteCategory(c._id))}),t._UZ(2,"mat-icon",54),t.qZA(),t.TgZ(3,"button",53),t.NdJ("click",function(){const c=t.CHM(n).$implicit,u=t.oxw(3);return t.KtG(u.Edit_category(c))}),t._UZ(4,"mat-icon",55),t.qZA(),t.TgZ(5,"button",53),t.NdJ("click",function(){const c=t.CHM(n).$implicit,u=t.oxw(3);return t.KtG(u.AddTranslated(c))}),t._UZ(6,"mat-icon",56),t.qZA()()}2&e&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:pencil-square"))}function At(e,r){1&e&&t._UZ(0,"tr",57)}function Zt(e,r){1&e&&t._UZ(0,"tr",58)}function It(e,r){if(1&e&&(t.TgZ(0,"table",20),t.ynx(1,21),t.YNc(2,at,2,1,"th",22),t.YNc(3,it,3,1,"td",23),t.BQk(),t.ynx(4,24),t.YNc(5,st,2,1,"th",22),t.YNc(6,ct,5,2,"td",23),t.BQk(),t.ynx(7,25),t.YNc(8,mt,2,1,"th",22),t.YNc(9,gt,2,1,"td",26),t.BQk(),t.ynx(10,27),t.YNc(11,dt,2,1,"th",22),t.YNc(12,_t,4,2,"td",26),t.BQk(),t.ynx(13,28),t.YNc(14,ft,2,1,"th",22),t.YNc(15,Ct,4,2,"td",23),t.BQk(),t.ynx(16,29),t.YNc(17,yt,2,1,"th",22),t.YNc(18,vt,4,5,"td",23),t.BQk(),t.ynx(19,30),t.YNc(20,bt,2,1,"th",31),t.YNc(21,Tt,7,2,"td",23),t.BQk(),t.YNc(22,At,1,0,"tr",32),t.YNc(23,Zt,1,0,"tr",33),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("dataSource",n.categories),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function Nt(e,r){if(1&e&&(t.ynx(0),t.YNc(1,It,24,3,"table",19),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isLoading)}}function wt(e,r){if(1&e&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",59),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("skeltonType",n.skletonTable)}}function St(e,r){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",60),t.BQk()),2&e&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const Et=function(e,r){return{"pointer-events-none":e,hidden:r}},Ut=function(){return[10,20,50,100]},Qt=[{path:"",component:(()=>{class e{constructor(){this.pageIndex=0,this.pageSize=10,this.total_recoreds=0,this.LangStatus=[{name:"All",value:""},{name:"active",value:"active"},{name:"inActive",value:"inActive"}],this.skletonTable=R.q.TABLE,this.toast=Q().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.isLoading=!0,this.searchInputControl=new l.p4,this.statusInputControl=new l.p4,this.displayedColumns=["S_No","Image","Category_Name","Parent_Category","Status","Created","action"],this.categories=[],this._fuseConfirmationService=(0,t.f3M)(N.R),this.matDialogRef=(0,t.f3M)(p.uw),this._CategoriesService=(0,t.f3M)(d.G),this._RouterService=(0,t.f3M)(P.F0),this.destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this._CategoriesService.categories$.pipe((0,x.sL)(this.destroyRef),(0,S.T)(1),(0,i.b)(n=>{console.log("loading data !",n),this.categories=n,this.isLoading=!1})).subscribe(),(0,L.a)([this._CategoriesService.pagination$.pipe((0,i.b)(n=>{this.pageIndex=n.pageIndex,this.pageSize=n.pageSize}),(0,m.x)((n,a)=>n.pageIndex===a.pageIndex&&n.pageSize===a.pageSize)),this.searchInputControl.valueChanges.pipe((0,g.O)(""),(0,m.x)(),(0,i.b)(()=>{this.statusInputControl.setValue("")})),this.statusInputControl.valueChanges.pipe((0,g.O)(""),(0,m.x)())]).pipe((0,x.sL)(this.destroyRef),(0,f.w)(([n,a,o])=>this._CategoriesService.getcategories(n?.pageIndex,n?.pageSize,a,o)),(0,w.K)(n=>(this.isLoading=!1,n))).subscribe(),this._CategoriesService.pagination$.pipe((0,x.sL)(this.destroyRef),(0,i.b)(n=>{this._paginator.length=n.length,this.total_recoreds=n.length,this._paginator.pageIndex=n.pageIndex,this._paginator.pageSize=n.pageSize})).subscribe()}addCategory(){this._RouterService.navigate(["/products/categories/add-category"])}pageChange(n){this._CategoriesService.updatePagination$(n)}deleteCategory(n){this._fuseConfirmationService.open({title:"Delete Category",message:"Are you sure you want to remove this item? This action cannot be undone!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,b.h)(o=>"confirmed"===o),(0,x.sL)(this.destroyRef),(0,f.w)(()=>this._CategoriesService.delete_category(n)),(0,i.b)(()=>{this.toast.fire({icon:"success",title:"Successfully deleted category"})}),(0,f.w)(()=>this._CategoriesService.getcategories())).subscribe()}AddTranslated(n){this.matDialogRef.open(M,{maxWidth:"600px",width:"100%",panelClass:"tag-dialog",data:{category:n}}).afterClosed().pipe((0,b.h)(o=>"confirmed"===o),(0,x.sL)(this.destroyRef),(0,f.w)(()=>this._CategoriesService.getcategories())).subscribe()}Edit_category(n){this.matDialogRef.open(nt,{maxWidth:"600px",width:"100%",panelClass:"tag-dialog",data:{category:n}}).afterClosed().pipe((0,b.h)(o=>"confirmed"===o),(0,x.sL)(this.destroyRef),(0,f.w)(()=>this._CategoriesService.getcategories())).subscribe()}changeStatus(n){const a=q()(n);let o=Y.Qd;a.status=a.status===o.active?o.inActive:o.active,this._fuseConfirmationService.open({title:"Update Status",message:"Are you sure you want to change  status?!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Update Status",color:"primary"}}}).afterClosed().pipe((0,b.h)(u=>"confirmed"===u),(0,x.sL)(this.destroyRef),(0,f.w)(()=>this._CategoriesService.Updatecategory(a,a._id).pipe((0,w.K)(u=>u))),(0,w.K)(u=>(this.toast.fire({icon:"warning",title:"warning something !"}),u)),(0,i.b)(()=>{this.toast.fire({icon:"success",title:"Successfully updated"}),this.isLoading=!0}),(0,f.w)(()=>this._CategoriesService.getcategories())).subscribe({})}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-categories"]],viewQuery:function(a,o){if(1&a&&t.Gf(D.NW,7),2&a){let c;t.iGM(c=t.CRH())&&(o._paginator=c.first)}},standalone:!0,features:[t.jDz],decls:26,vars:16,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-accent","text-on-accent",3,"click"],[1,"relative","flex","flex-row","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-8","border-b","w-full"],[1,"flex","w-full","flex-row","sm:flex-row","gap-x-10"],[1,"fuse-mat-dense","w-60"],["placeholder","select status",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"fuse-mat-dense","w-100"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","search ...",3,"formControl"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],[3,"value"],[1,"ml-3"],["mat-table","","class","custom-table",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Image"],["matColumnDef","Category_Name"],["mat-cell","","class","",4,"matCellDef"],["matColumnDef","Parent_Category"],["matColumnDef","Status"],["matColumnDef","Created"],["matColumnDef","action"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],[1,"w-20","my-1"],[1,"relative","flex","flex-0","items-center","justify-center","w-full","h-12","rounded","overflow-hidden"],["class","w-12 object-contain",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"w-12","object-contain",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["mat-cell","",1,""],[4,"ngIf","ngIfElse"],["mainCategory",""],[1,"text-center","flex","flex-row","justify-center","items-center","w-full"],["mat-ripple","","class","bg-green-500 text-white py-1 px-4 rounded-full w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],["mat-ripple","","class","bg-warn text-on-warn py-1 px-4 rounded-full w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],["mat-ripple","",1,"bg-green-500","text-white","py-1","px-4","rounded-full","w-3/4","min-w-max","text-sm","block",3,"click"],["mat-ripple","",1,"bg-warn","text-on-warn","py-1","px-4","rounded-full","w-3/4","min-w-max","text-sm","block",3,"click"],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-800",3,"svgIcon"],["svgIcon","mat_solid:g_translate",1,"icon-size-5"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","heroicons_solid:information-circle",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.addCategory()}),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t._uU(11,"Select Status"),t.qZA(),t.TgZ(12,"mat-select",8),t.YNc(13,ot,3,2,"mat-option",9),t.qZA()(),t.TgZ(14,"mat-form-field",10)(15,"mat-label"),t._uU(16,"search"),t.qZA(),t._UZ(17,"mat-icon",11)(18,"input",12),t.qZA()()(),t.TgZ(19,"div",13)(20,"div",14),t.YNc(21,Nt,2,1,"ng-container",15),t.YNc(22,wt,2,1,"ng-container",15),t.ynx(23),t.TgZ(24,"mat-paginator",16),t.NdJ("page",function(u){return o.pageChange(u)}),t.qZA(),t.BQk(),t.YNc(25,St,2,2,"ng-container",15),t.qZA()()()()),2&a&&(t.xp6(4),t.hij(" Total Records : ",o.total_recoreds," "),t.xp6(2),t.hij(" ","Add New Category"," "),t.xp6(6),t.Q6J("formControl",o.statusInputControl),t.xp6(1),t.Q6J("ngForOf",o.LangStatus),t.xp6(4),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",o.searchInputControl),t.xp6(3),t.Q6J("ngIf",o.categories.length),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(12,Et,o.isLoading,!o.categories.length))("pageSizeOptions",t.DdM(15,Ut))("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!o.categories.length&&!o.isLoading))},dependencies:[_.O5,_.mk,_.ax,_.uU,D.TU,D.NW,h.p0,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,I.Ps,I.Hw,v.ot,v.lW,v.RK,F.W,Z.c,Z.Nt,y.KE,y.hX,y.qo,l.UX,l.Fj,l.JJ,l.oH,A.LD,A.gD,C.ey,C.si,C.wG,p.Is,$.vi,G.s],styles:["app-categories[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]})}return e})()}]},7070:(J,T,s)=>{s.d(T,{Qd:()=>t});var t=function(i){return i.active="active",i.inActive="inActive",i}(t||{})},8699:(J,T,s)=>{s.d(T,{A:()=>S});var t=s(553),_=s(5619),N=s(7398),d=s(3074),p=s(9862),l=s(5879);let S=(()=>{class i{get langs$(){return this._langs.asObservable()}constructor(m){this._httpClient=m,this._langs=new _.X(null)}getLanguages(){let m=t.N.API_ENDPOINT+d.b.TRANSLATE.all_languages;const g=(new p.LE).set("page",-1);return this._httpClient.get(`${m}`,{params:g}).pipe((0,N.U)(f=>{if(f.success){const b=f.data.filter(U=>"active"===U.status);return this._langs.next(b),b}}))}translateColor(m){return this._httpClient.post(`${t.N.API_ENDPOINT+d.b.TRANSLATE.create_color_translate}`,{...m})}translateCategory(m){return this._httpClient.post(`${t.N.API_ENDPOINT+d.b.TRANSLATE.create_category_translate}`,{...m})}translateBrand(m){return this._httpClient.post(`${t.N.API_ENDPOINT+d.b.TRANSLATE.create_brand_translate}`,{...m})}product_translation(m){return this._httpClient.post(`${t.N.API_ENDPOINT+d.b.TRANSLATE.create_product_translation}`,{...m})}copon_translate(m){return this._httpClient.post(`${t.N.API_ENDPOINT+d.b.TRANSLATE.create_copon_translate}`,{...m})}referralProgram_translate(m){return this._httpClient.post(`${t.N.API_ENDPOINT+d.b.TRANSLATE.create_referralProgram_translate}`,{...m})}static#t=this.\u0275fac=function(g){return new(g||i)(l.LFG(p.eN))};static#e=this.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);